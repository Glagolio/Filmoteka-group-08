{"mappings":"gfAAAA,EAAA,S,wFCAA,IAcIC,EAdJC,EAAAF,EAAA,S,aAKcG,EAAO,CACjBC,YAAaC,SAASC,cAAc,4BACpCC,WAAYF,SAASC,cAAc,uBACnCE,cAAeH,SAASC,cAAc,8BAiB1C,SAASG,IACLN,EAAKI,WAAWG,UAAUC,OAAO,cAE0B,IAAvDR,EAAKI,WAAWG,UAAUE,MAAMC,SAAS,YACtCC,aAAab,GAChBE,EAAKC,YAAYW,oBAAoB,QAASC,GAC9Cb,EAAKK,cAAcO,oBAAoB,QAASN,G,CAIvD,SAASO,IACNb,EAAKI,WAAWG,UAAUC,OAAO,cAE0B,IAAvDR,EAAKI,WAAWG,UAAUE,MAAMC,SAAS,YACtCC,aAAab,GAChBE,EAAKC,YAAYW,oBAAoB,QAASC,GAC9Cb,EAAKK,cAAcO,oBAAoB,QAASN,G,CC5BxD,GDHIN,EAAKC,YAAYa,iBAAiB,QAASD,GAC3Cb,EAAKK,cAAcS,iBAAiB,QAASR,GAKrB,GAApBS,EAAAC,kBAAgDC,KAAZ,OAAXlB,EAAAmB,kBAAW,IAAXnB,EAAAmB,iBAAA,EAAAnB,EAAAmB,YAAaT,SAGtCH,IACOR,EAAUqB,YAAW,WAAQb,G,GAAiB,OCPzD,YAAac,iBAAiBC,UAAW,CACzCC,QAAQC,IAAI,8BACOrB,SAASsB,iBAAiB,yBAClCC,SAAQ,SAAAC,GACfA,EAAMC,IAAMD,EAAME,QAAQD,G,QAG3B,CACHL,QAAQC,IAAI,iCACM,IAAZM,EAAS3B,SAAS4B,cAAc,UACtCD,EAAOF,IAAM,0EACbE,EAAOE,UAAY,kGACnBF,EAAOG,YAAc,YACrBH,EAAOI,eAAiB,cACxB/B,SAASgC,KAAKC,YAAYN,E,CAI9B,IAAMO,EAAalC,SAASsB,iBAAiB,mBAO7C,SAASa,EAAcC,GACnBhB,QAAQC,IAAI,2B,CAPZD,QAAQC,IAAIa,GAEZA,EAAWX,SAAQ,SAAAC,GACnBA,EAAMZ,iBAAiB,OAAQuB,EAAe,CAAEE,MAAM,G","sources":["src/index.js","src/js/visitEvents.js","src/js/lazy-loading.js"],"sourcesContent":["import './js/common';\nimport './js/fetchMovies';\nimport './js/arrowUp';\nimport './js/loadPage';\nimport './js/pageInStorage';\nimport './js/modal';\nimport './js/pagination';\nimport './js/modalFooter';\nimport './js/storage';\nimport './js/visitEvents';\nimport './js/lazy-loading';\n\n","import { storagePage } from './pageInStorage';\nimport * as page from './pagination';\n\n\n\n export const refs = {\n    comeBackBtn: document.querySelector('button.js-visit-back-btn'),\n    visitModal: document.querySelector(\"[data-modal].dialog\"),   \n    visitCloseBtn: document.querySelector(\"button.js-visit-close-btn\"),\n};\n    refs.comeBackBtn.addEventListener(\"click\", comeBackBtnToggle); \n    refs.visitCloseBtn.addEventListener(\"click\", toggleModal);\n    \n    \nlet timerId;\n(() => {\n    if (page.currentPage == 1 || storagePage?.value === undefined) {\n        return \n    } else {        \n        toggleModal();\n        return timerId = setTimeout(() => { toggleModal() }, 15000);      \n    }\n})();    \n\n\nfunction toggleModal() {   \n    refs.visitModal.classList.toggle(\"is-hidden\");     \n    \n    if (refs.visitModal.classList.value.includes(\"hidden\") === true) {\n           clearTimeout(timerId);  \n        refs.comeBackBtn.removeEventListener(\"click\", comeBackBtnToggle);        \n        refs.visitCloseBtn.removeEventListener(\"click\", toggleModal);\n    };\n};\n\n function comeBackBtnToggle() {   \n    refs.visitModal.classList.toggle(\"is-hidden\");     \n   \n    if (refs.visitModal.classList.value.includes(\"hidden\") === true) {\n           clearTimeout(timerId);  \n        refs.comeBackBtn.removeEventListener(\"click\", comeBackBtnToggle);        \n        refs.visitCloseBtn.removeEventListener(\"click\", toggleModal);\n    };\n};\n","// import loadPage from './loadPage';\n// import { fetchFilms } from './loadPage';\n\n// 1. Для кожного зображення додати loading='lazy'\n// 2. Для того, щоб працювало в усіх браузерах, потрібна бібліотека lazysizes(знайти на git hub)\n// можна використати CDN lazysizes.min.js  , додати скрипт динамічно\n// - додати всім зображенням class='lazyload'\n// - src замінити на data-src\n// 3. видаляємо слухача за допомогою 'once'(підтримується майже всіма браузерами), додається в опції. Після того як\n// addEventListener спрацює один раз, він самовидалиться\n\n\n// Feature detection\nif ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер підтримує lazyload');\n    const lazyImages = document.querySelectorAll('image[loading=\"lazy\"]');\n    lazyImages.forEach(image => {\n        image.src = image.dataset.src;\n    });\n// supported in browser\n} else {\n    console.log('Браузер не підтримує lazyload');\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';\n    script.integrity = 'sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==';\n    script.crossOrigin = 'anonymous';\n    script.referrerpolicy = 'no-referrer';\n    document.body.appendChild(script);\n// fetch polyfill/third-party library\n}\n\nconst lazyImages = document.querySelectorAll('image[data-src]');\n    console.log(lazyImages);\n\n    lazyImages.forEach(image => {\n    image.addEventListener('load', onImageLoaded, { once: true });\n});\n\nfunction onImageLoaded(event) {\n    console.log(\"Зображення завантажилось\");\n// можна додати класс, анімацію і тд\n// event.target.classList.add();\n}"],"names":["parcelRequire","$10c2f250dd9227dc$var$timerId","$qikvZ","$10c2f250dd9227dc$export$21666b427502ea6d","comeBackBtn","document","querySelector","visitModal","visitCloseBtn","$10c2f250dd9227dc$var$toggleModal","classList","toggle","value","includes","clearTimeout","removeEventListener","$10c2f250dd9227dc$var$comeBackBtnToggle","addEventListener","$jcFG7","currentPage","undefined","storagePage","setTimeout","HTMLImageElement","prototype","console","log","querySelectorAll","forEach","image","src","dataset","$146ab606393aaab2$var$script","createElement","integrity","crossOrigin","referrerpolicy","body","appendChild","$146ab606393aaab2$var$lazyImages1","$146ab606393aaab2$var$onImageLoaded","event","once"],"version":3,"file":"index.86b9253f.js.map"}