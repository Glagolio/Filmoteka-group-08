{"mappings":"isBAAA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAuB3CC,KAnBW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CK,OAXa,SAAAd,GACX,IACoC,OAA9BK,aAAaM,QAAQX,IAAiBK,aAAaU,WAAWf,E,CAClE,MAAOO,GACLC,QAAQD,MAAM,uBAAwBA,EAAME,Q,mNCtBpD,IAAAO,EAAAC,EAAA,S,aAGaC,EAAmB,kBACnBC,EAAwB,oBACxBC,EAAcJ,EAAAK,QAAQX,KAAKQ,GAC3BI,EAAwBN,EAAAK,QAAQX,KAAKS,GAM9CH,EAAAK,QAAQtB,KAAKmB,EAAkB,CAAEjB,MAAOsB,EAAAC,a,wFCZ5C,IAAMC,EAAWC,SAASC,cAAc,mBAClCC,EAAUF,SAASC,cAAc,oBAEjCE,EAAUH,SAASC,cAAc,oBACjCG,EAAUJ,SAASC,cAAc,oBACjCI,EAAUL,SAASC,cAAc,oBACjCK,EAAUN,SAASC,cAAc,oBACjCM,EAAUP,SAASC,cAAc,oBACjCO,EAAeR,SAASC,cAAc,iBACtCQ,EAAcT,SAASC,cAAc,gBACrCS,EAAgBV,SAASC,cAAc,yBACvCU,EAAgBX,SAASC,cAAc,gBACvCW,EAAeZ,SAASC,cAAc,eACtCY,EAAcb,SAASC,cAAc,aACrCa,EAAed,SAASC,cAAc,UAE5CS,EAAcK,iBAAiB,SAU/B,SAA2BC,GACI,WAAzBA,EAAMC,OAAOC,UACXC,OAAOH,EAAMC,OAAOG,eACtBC,EAAcF,OAAOH,EAAMC,OAAOG,cAGpCP,EAAYS,QAAS,EACrBR,EAAaQ,QAAS,EAElBN,EAAMC,OAAOM,UAAUC,SAAS,uBAClCC,EAAKC,SAAQ,SAAAC,G,OAAMA,EAAGJ,UAAUnC,OAAO,sB,IACvC4B,EAAMC,OAAOM,UAAUK,IAAI,wBAGzBZ,EAAMC,OAAOM,UAAUC,SAAS,gBAAkBH,EAAc,MAClEI,EAAKC,SAAQ,SAAAC,G,OAAMA,EAAGJ,UAAUnC,OAAO,sB,IACvCe,EAAQoB,UAAUK,IAAI,uBACtBzB,EAAQiB,YAAcD,OAAOhB,EAAQiB,aAAe,EACpDhB,EAAQgB,YAAcD,OAAOf,EAAQgB,aAAe,EACpDf,EAAQe,YAAcD,OAAOd,EAAQe,aAAe,EACpDd,EAAQc,YAAcD,OAAOb,EAAQc,aAAe,EACpDb,EAAQa,YAAcD,OAAOZ,EAAQa,aAAe,EACpDC,EAAclB,EAAQiB,aAGpBJ,EAAMC,OAAOM,UAAUC,SAAS,eAAiBH,GAAe,IAClEI,EAAKC,SAAQ,SAAAC,G,OAAMA,EAAGJ,UAAUnC,OAAO,sB,IACvCe,EAAQiB,YAAcD,OAAOhB,EAAQiB,aAAe,EACpDhB,EAAQgB,YAAcD,OAAOf,EAAQgB,aAAe,EACpDf,EAAQe,YAAcD,OAAOd,EAAQe,aAAe,EACpDd,EAAQc,YAAcD,OAAOb,EAAQc,aAAe,EACpDb,EAAQa,YAAcD,OAAOZ,EAAQa,aAAe,EACpDb,EAAQgB,UAAUK,IAAI,uBACtBP,EAAcd,EAAQa,aAGpBJ,EAAMC,OAAOM,UAAUC,SAAS,kBAClCC,EAAKC,SAAQ,SAAAC,G,OAAMA,EAAGJ,UAAUnC,OAAO,sB,IACvCe,EAAQiB,YAAc,EACtBhB,EAAQgB,YAAc,EACtBf,EAAQe,YAAc,EACtBd,EAAQc,YAAc,EACtBb,EAAQa,YAAc,EACtBjB,EAAQoB,UAAUK,IAAI,uBACtBP,EAAclB,EAAQiB,YACtBR,EAAaU,QAAS,EACtBT,EAAYS,QAAS,EACrBd,EAAac,QAAS,GAGpBN,EAAMC,OAAOM,UAAUC,SAAS,iBAClCC,EAAKC,SAAQ,SAAAC,G,OAAMA,EAAGJ,UAAUnC,OAAO,sB,IACvCe,EAAQiB,YAAcD,OAAOV,EAAYW,aAAe,EACxDhB,EAAQgB,YAAcD,OAAOV,EAAYW,aAAe,EACxDf,EAAQe,YAAcD,OAAOV,EAAYW,aAAe,EACxDd,EAAQc,YAAcD,OAAOV,EAAYW,aAAe,EACxDb,EAAQa,YAAcX,EAAYW,YAClCb,EAAQgB,UAAUK,IAAI,uBACtBP,EAAcd,EAAQa,YACtBT,EAAcW,QAAS,EACvBR,EAAaQ,QAAS,EACtBb,EAAYa,QAAS,GAGnBH,OAAOE,GAAe,GACxBT,EAAaU,QAAS,EACtBT,EAAYS,QAAS,EACrBd,EAAac,QAAS,IAEtBV,EAAaU,QAAS,EACtBT,EAAYS,QAAS,EACrBd,EAAac,QAAS,GAGpBH,OAAOE,GAAe,MACxBV,EAAcW,QAAS,EACvBR,EAAaQ,QAAS,EACtBb,EAAYa,QAAS,GAGvBpB,EAAQ2B,UAAY,GACpBC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,WAEb,KAAnBlC,EAASxB,MACX2D,YAAYnC,EAASxB,MAAO8C,GAE5Bc,a,IA9FN,IAAId,EAAc,EAEdI,EAAOzB,SAASoC,iBAAiB,sBAErCvB,EAAYS,QAAS,EACrBV,EAAaU,QAAS,EACtBd,EAAac,QAAS,C,sCCxBf,SAASe,IACVC,YAAW,WACCtC,SAASoC,iBAAiB,iBAClCV,SAAQ,SAAAC,G,OAAMA,EAAGJ,UAAUnC,OAAO,e,MACpC,I,qICJR,IAAAE,EAAAC,EAAA,SAEMgD,EAAWvC,SAASC,cAAc,gBAClCuC,EAAcxC,SAASC,cAAc,sBAe1B,SAARwC,EAASC,GACD,WAAXA,EAAEC,MACJC,G,CAkCJ,SAASC,EAAyBC,EAASxE,G,IAClCyE,EAAP,OAAwB,QAAjBA,EAAAzD,EAAAK,QAAQX,KAAKV,UAAI,IAAjByE,OAAA,EAAAA,EAAmBC,MAAK,SAAAC,G,OAASA,EAAMC,GAAGC,aAAeL,C,IAIlE,SAASF,IACPtD,EAAAK,QAAQP,OAAO,iBACfY,SAASe,iBAAiB,UAAW0B,GACrCzC,SAASoD,KAAKC,MAAMC,SAAW,GAC/Bf,EAAShB,UAAUK,IAAI,Y,CAqHzB,SAAS2B,EAAkBjF,EAAKC,EAAOiF,GACrC,IAAIC,EAAcnE,EAAAK,QAAQX,KAAKV,IAAQ,GACvCkF,EAAOjC,UAAUnC,OAAO,SACxBqE,EAAcA,EAAYC,QAAO,SAAAT,G,OAASA,EAAMC,GAAGC,YAAc5E,EAAM2E,E,IACvE5D,EAAAK,QAAQtB,KAAKC,EAAKmF,E,CAGpB,SAASE,EAAYC,EAAYC,G,IACxBd,EAAP,OAA+B,QAAxBA,EAAAzD,EAAAK,QAAQX,KAAK4E,UAAW,IAAxBb,OAAA,EAAAA,EAA0Be,MAAK,SAAAb,G,OAASA,EAAMC,GAAGC,aAAeU,C,IAxLlD7D,SAASC,cAAc,qBAE/Bc,iBAAiB,SAAS,SAAA2B,GAgCf,IAAPI,EA9BbJ,EAAEzB,OAAO8C,QAAQ,oBACnBrB,EAAEsB,iBA6BalB,EA5BLJ,EAAEzB,OAAO8C,QAAQ,kBAAkBE,QAAQC,YA6BvDlE,SAASe,iBAAiB,UAAW0B,GAErCF,EAAStC,cAAc,gBAAgBgE,QAAQE,aAAerB,EAC9DP,EAAStC,cAAc,gBAAgB4B,UAwBzC,SAA6BiB,GAC3B,IAAMsB,EACJvB,EAAyBC,EAAS,WAClCD,EAAyBC,EAAS,iBAClCD,EAAyBC,EAAS,cAEpCxD,EAAAK,QAAQtB,KAAK,gBAAiB+F,GAE9B,IACEC,EASED,EATFC,YACAC,EAQEF,EARFE,MACAC,EAOEH,EAPFG,eACAC,EAMEJ,EANFI,WAEAC,GAIEL,EALFM,aAKEN,EAJFK,cACAE,EAGEP,EAHFO,WACAC,EAEER,EAFFQ,WACAC,EACET,EADFS,SAKEC,EAAanB,EAAY,gBAF7Bb,EAAUA,EAAQK,YAEmCA,YAAc,QAAU,GACvE4B,EAAkB,6DAAwEC,OAAXF,EAAW,8TAOhGA,EAAanB,EAAY,aAAcb,EAAQK,YAAc,QAAU,GACvE,IAAM8B,EAAgB,2DAAsED,OAAXF,EAAW,wTAO5F,MAAO,4FACmEE,OAArBX,EAAY,YAGlBW,OAH2BV,EAAM,wHAQxBU,OALTV,EAAM,4QAOLU,OAFQP,EAAaS,QAAQ,GAAG,yGAO1BF,OALNL,EAAW,+NASLK,OAJAJ,EAAWM,QAAQ,GAAG,kMAQtBF,OAJAT,EAAe,yLAUpBS,OANKR,EAAW,sRAS7CQ,OAH6BH,EAAS,0GAItCG,OADAD,EAAgB,0BACFC,OAAdC,EAAc,uE,CAhGiBE,CAAoBrC,GACvE9C,SAASoD,KAAKC,MAAMC,SAAW,SAC/Bf,EAAShB,UAAUnC,OAAO,aAmJ5B,SAAgBgG,EAAKC,GACnB,IAAMC,EAAO,KACPC,EAAO,GACT7C,EAAI1C,SAASC,cAAc,QAC3BuF,EAAI,EACJC,EAAIC,KAAKC,MAAML,GAAQF,EAAMG,IAC7BK,EAAWC,aAAY,YACzBL,GAAQD,IACCH,GACPU,cAAcF,GAEhBlD,EAAEb,UAAY2D,EAAEN,QAAQ,E,GACvBO,E,CAxJHM,CADqBxD,EAAStC,cAAc,QAAQmB,a,IAnCjCoB,EAATzB,iBAAiB,QAAS6B,GAUjBL,EAAZxB,iBAAiB,SAE1B,SAAuB2B,GACrB,GAAIA,EAAEsD,gBAAkBtD,EAAEzB,OAExB,YADA2B,IAGwB,WAAtBF,EAAEzB,OAAOgF,WAsHYzC,EArHLd,EAAEzB,OAAO8C,QAAQ,cAsH/BzF,GAAoB,QAAdyE,EAAAS,EAAOS,eAAO,IAAdlB,OAAA,EAAAA,EAAgBmD,YAAa,QAGnCC,EAAa,gBAEb5H,EAAQe,EAAAK,QAAQX,KAAKmH,GAEvB7G,EAAAK,QAAQX,KAAKV,IAAQqF,EAAYrF,EAAKC,EAAM2E,GAAGC,YACjDI,EAAkBjF,EAAKC,EAAOiF,IAE1BlF,EAAI8H,SAAS,UAAYzC,EAAY,aAAcpF,EAAM2E,GAAGC,cAC9DrE,QAAQuH,IAAI,oBACZ9C,EACE,aACAhF,EACAiF,EAAO8C,cAAcrG,cAAc,uBAO3C,SAAsB3B,EAAKC,EAAOiF,GAChC,IAAIC,EAAcnE,EAAAK,QAAQX,KAAKV,IAAQ,GACvCmF,EAAY8C,KAAKhI,GACjBiF,EAAOjC,UAAUK,IAAI,SACrBtC,EAAAK,QAAQtB,KAAKC,EAAKmF,E,CARhB+C,CAAalI,EAAKC,EAAOiF,KAnB7B,IAA2BA,EACbT,EAANzE,EAGA6H,EAEA5H,C,yCC5JR,IAAMkI,EAAYzG,SAASC,cAAc,wBACnCyG,EAAW1G,SAASC,cAAc,oBAClC0G,EAAY3G,SAASC,cAAc,cAYzC,SAAS2G,EAASlE,GAChB5D,QAAQuH,IAAI3D,GAEG,WAAXA,EAAEC,OACJgE,EAAUpF,UAAUK,IAAI,aACxB5B,SAAS6G,oBAAoB,UAAWD,G,CAhB5C9H,QAAQuH,IAAIM,GAEZF,EAAU1F,iBAAiB,SAAS,SAAA2B,GAClCA,EAAEsB,iBACF2C,EAAUpF,UAAUuF,OAAO,aAC3B9G,SAASe,iBAAiB,UAAW6F,E,IAEvCF,EAAS3F,iBAAiB,SAAS,SAAA2B,GACjCiE,EAAUpF,UAAUnC,OAAO,Y,IAY7BuH,EAAU5F,iBAAiB,SAE3B,SAAqB2B,GACnB1C,SAAS6G,oBAAoB,UAAWD,GACxCD,EAAUpF,UAAUK,IAAI,Y","sources":["src/js/storage.js","src/js/pageInStorage.js","src/js/pagination.js","src/js/sceletonLoad.js","src/js/modal.js","src/js/modalFooter.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n    try { \n      if (localStorage.getItem(key) !== null) { localStorage.removeItem(key); }\n    } catch (error) {\n        console.error(\"Remove state error: \", error.message);\n    }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import storage from './storage';\n// import { currentPage } from './pagination';\nimport * as page from './pagination';\nexport const STORAGE_PAGE_KEY = 'last visit page';\nexport const STORAGE_MOVIES_SEARCH = 'last visit search'\nexport const storagePage = storage.load(STORAGE_PAGE_KEY);\nexport const storageLastSearchText = storage.load(STORAGE_MOVIES_SEARCH);\n\n\nchangeStoragePage();\n\nfunction changeStoragePage() {   \n    storage.save(STORAGE_PAGE_KEY, { value: page.currentPage });\n  \n}\n","const inputRef = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-card-library');\n\nconst btn1Ref = document.querySelector('[data-index=\"1\"]');\nconst btn2Ref = document.querySelector('[data-index=\"2\"]');\nconst btn3Ref = document.querySelector('[data-index=\"3\"]');\nconst btn4Ref = document.querySelector('[data-index=\"4\"]');\nconst btn5Ref = document.querySelector('[data-index=\"5\"]');\nconst firstPageRef = document.querySelector('.first-button');\nconst lastPageRef = document.querySelector('.last-button');\nconst paginationRef = document.querySelector('.pagination-container');\nconst rightArrowRef = document.querySelector('.arrow-right');\nconst leftArrowRef = document.querySelector('.arrow-left');\nconst prevDotsRef = document.querySelector('#previous');\nconst afterDotsRef = document.querySelector('#after');\n\npaginationRef.addEventListener('click', onPaginationClick);\n\nlet currentPage = 1;\n\nlet btns = document.querySelectorAll('.pagination-button');\n\nprevDotsRef.hidden = true;\nleftArrowRef.hidden = true;\nfirstPageRef.hidden = true;\n\nfunction onPaginationClick(event) {\n  if (event.target.tagName === 'BUTTON') {\n    if (Number(event.target.textContent)) {\n      currentPage = Number(event.target.textContent);\n    }\n\n    prevDotsRef.hidden = true;\n    afterDotsRef.hidden = true;\n\n    if (event.target.classList.contains('pagination-button')) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      event.target.classList.add('pagination--current');\n    }\n\n    if (event.target.classList.contains('arrow-right') && currentPage < 1000) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.classList.add('pagination--current');\n      btn1Ref.textContent = Number(btn1Ref.textContent) + 5;\n      btn2Ref.textContent = Number(btn2Ref.textContent) + 5;\n      btn3Ref.textContent = Number(btn3Ref.textContent) + 5;\n      btn4Ref.textContent = Number(btn4Ref.textContent) + 5;\n      btn5Ref.textContent = Number(btn5Ref.textContent) + 5;\n      currentPage = btn1Ref.textContent;\n    }\n\n    if (event.target.classList.contains('arrow-left') && currentPage >= 5) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.textContent = Number(btn1Ref.textContent) - 5;\n      btn2Ref.textContent = Number(btn2Ref.textContent) - 5;\n      btn3Ref.textContent = Number(btn3Ref.textContent) - 5;\n      btn4Ref.textContent = Number(btn4Ref.textContent) - 5;\n      btn5Ref.textContent = Number(btn5Ref.textContent) - 5;\n      btn5Ref.classList.add('pagination--current');\n      currentPage = btn5Ref.textContent;\n    }\n\n    if (event.target.classList.contains('first-button')) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.textContent = 1;\n      btn2Ref.textContent = 2;\n      btn3Ref.textContent = 3;\n      btn4Ref.textContent = 4;\n      btn5Ref.textContent = 5;\n      btn1Ref.classList.add('pagination--current');\n      currentPage = btn1Ref.textContent;\n      leftArrowRef.hidden = true;\n      prevDotsRef.hidden = true;\n      firstPageRef.hidden = true;\n    }\n\n    if (event.target.classList.contains('last-button')) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.textContent = Number(lastPageRef.textContent) - 4;\n      btn2Ref.textContent = Number(lastPageRef.textContent) - 3;\n      btn3Ref.textContent = Number(lastPageRef.textContent) - 2;\n      btn4Ref.textContent = Number(lastPageRef.textContent) - 1;\n      btn5Ref.textContent = lastPageRef.textContent;\n      btn5Ref.classList.add('pagination--current');\n      currentPage = btn5Ref.textContent;\n      rightArrowRef.hidden = true;\n      afterDotsRef.hidden = true;\n      lastPageRef.hidden = true;\n    }\n\n    if (Number(currentPage) > 5) {\n      leftArrowRef.hidden = false;\n      prevDotsRef.hidden = false;\n      firstPageRef.hidden = false;\n    } else {\n      leftArrowRef.hidden = true;\n      prevDotsRef.hidden = true;\n      firstPageRef.hidden = true;\n    }\n\n    if (Number(currentPage) < 996) {\n      rightArrowRef.hidden = false;\n      afterDotsRef.hidden = false;\n      lastPageRef.hidden = false;\n    }\n\n    gallery.innerHTML = '';\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n\n    if (inputRef.value !== '') {\n      fetchMovies(inputRef.value, currentPage);\n    } else {\n      fetchFilms();\n    }\n  }\n}\n\nlet pageSize = 9;\n\nfunction defineResultsPerPage() {\n  if (window.innerWidth >= 1024) {\n    pageSize = 9;\n  } else if (window.innerWidth >= 768 && window.innerWidth < 1024) {\n    pageSize = 8;\n  } else if (window.innerWidth < 768) {\n    pageSize = 4;\n  }\n  return pageSize;\n}\n\n\nexport { currentPage, defineResultsPerPage};\n","export function removeSceletonLoad() {\n      setTimeout(() => {\n      const arr = document.querySelectorAll('.placeholdify');\n      arr.forEach(el => el.classList.remove('placeholdify'));\n      },2000);\n}","import storage from './storage';\n\nconst backdrop = document.querySelector('[data-modal]');\nconst closeButton = document.querySelector('[data-modal-close]');\nconst cardsContainer = document.querySelector('.movies-container');\n\ncardsContainer.addEventListener('click', e => {\n  //Тиць по 'js-modal-open' -> відкриває модалку\n  if (e.target.closest('.js-modal-open')) {\n    e.preventDefault();\n    openModal(e.target.closest('.js-modal-open').dataset.cardMovieId);\n  }\n});\n\n// Тиць по 'data-modal-close' ->закриває модалку\ncloseButton.addEventListener('click', closeModal);\n\n//Press по Esc ->закриває модалку\nfunction pressEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\n// Тиць по backdrop -> закриває модалку\nbackdrop.addEventListener('click', backdropClick);\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeModal();\n    return;\n  }\n  if (e.target.nodeName === 'BUTTON') {\n    addMovieToLibrary(e.target.closest('.movie-btn'));\n  }\n}\n\n// Якщо модалка відкрита -> кидаємо AddEventListener\nfunction openModal(movieId) {\n  document.addEventListener('keydown', pressEsc);\n\n  backdrop.querySelector('.modal-movie').dataset.modalMovieId = movieId;\n  backdrop.querySelector('.modal-movie').innerHTML = getModalMovieMarkup(movieId);\n  document.body.style.overflow = 'hidden';\n  backdrop.classList.remove('is-hidden');\n  // const { vote_average } =\n  //   getMovieFromLocalStorage(movieId, 'movies') ||\n  //   getMovieFromLocalStorage(movieId, 'watched-list') ||\n  //   getMovieFromLocalStorage(movieId, 'queue-list');\n  // console.log(vote_average);\n  const vote_average = backdrop.querySelector('#out').textContent;\n  outNum(vote_average, '#out');\n}\n\nfunction getMovieFromLocalStorage(movieId, key) {\n  return storage.load(key)?.find(movie => movie.id.toString() === movieId);\n}\n\n// Як тільки закривається модалка -> знімаємо EventListener\nfunction closeModal() {\n  storage.remove('current-movie');\n  document.addEventListener('keydown', pressEsc);\n  document.body.style.overflow = '';\n  backdrop.classList.add('is-hidden');\n}\n\nfunction getModalMovieMarkup(movieId) {\n  const currentMovie =\n    getMovieFromLocalStorage(movieId, 'movies') ||\n    getMovieFromLocalStorage(movieId, 'watched-list') ||\n    getMovieFromLocalStorage(movieId, 'queue-list');\n\n  storage.save('current-movie', currentMovie);\n\n  const {\n    poster_path,\n    title,\n    original_title,\n    genres_ids,\n    release_date,\n    vote_average,\n    vote_count,\n    popularity,\n    overview,\n  } = currentMovie;\n\n  movieId = movieId.toString();\n\n  let addedClass = isInLibrary('watched-list', movieId.toString()) ? 'added' : '';\n  const btnAddToWatched = `<div class=\"modal-movie__btn movie-btn movie-btn--watched ${addedClass}\" data-modal-add-to=\"watched\">\n                          <div class=\"movie-btn__inner\">\n                            <button class=\"remove\">REMOVE FROM<br>WATCHED</button>\n                            <button class=\"add\">ADD TO<br>WATCHED</button>\n                          </div>\n                        </div>`;\n\n  addedClass = isInLibrary('queue-list', movieId.toString()) ? 'added' : '';\n  const btnAddToQueue = `<div class=\"modal-movie__btn movie-btn movie-btn--queue ${addedClass}\" data-modal-add-to=\"queue\">\n                          <div class=\"movie-btn__inner\">\n                            <button class=\"remove\">REMOVE FROM<br>QUEUE</button>\n                            <button class=\"add\">ADD TO<br>QUEUE</button>\n                          </div>\n                        </div>`;\n\n  return `<div class=\"modal-movie__poster\">\n            <img src='https://image.tmdb.org/t/p/w500${poster_path}' alt=\"${title}\" />\n          </div>\n            <div class=\"modal-movie__info\">\n                <h2 class=\"modal-movie__title\">${title}</h2>\n                <table class=\"movie-table\">\n                    <tr>\n                        <td class=\"movie-table__title\">Vote / Votes</td>\n                        <td class=\"movie-table__info\">\n                            <span id=\"out\" class=\"vote\">${vote_average.toFixed(1)}</span>\n                            <span>/</span>\n                            <span class=\"votes\">${vote_count}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Popularity</td>\n                        <td class=\"movie-table__info\">${popularity.toFixed(0)}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Original Title</td>\n                        <td class=\"movie-table__info\">${original_title}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Genre</td>\n                        <td class=\"movie-table__info\">${genres_ids}</td>\n                    </tr>\n                </table>\n                <div class=\"modal-movie__box\">\n                <div class=\"modal-movie__about\">\n                    <p class=\"modal-movie__description\">ABOUT</p>\n                    <p class=\"modal-movie__text\">${overview}</p>\n                </div>\n                <div class=\"modal-movie__buttons\">\n                    ${btnAddToWatched}\n                    ${btnAddToQueue}\n                </div>\n                </div>\n            </div>`;\n}\n\n/* -----------------------\n\nModal buttons functionality\n\n----------------------- */\n\nfunction addMovieToLibrary(button) {\n  const key = button.dataset?.modalAddTo + '-list';\n  // const movieId = button.closest('.modal-movie').dataset.modalMovieId;\n\n  const SOURCE_KEY = 'current-movie';\n\n  const value = storage.load(SOURCE_KEY);\n\n  if (storage.load(key) && isInLibrary(key, value.id.toString())) {\n    removeFromStorage(key, value, button);\n  } else {\n    if (key.includes('watch') && isInLibrary('queue-list', value.id.toString())) {\n      console.log('already in queue');\n      removeFromStorage(\n        'queue-list',\n        value,\n        button.parentElement.querySelector('.movie-btn--queue')\n      );\n    }\n    addToStorage(key, value, button);\n  }\n}\n\nfunction addToStorage(key, value, button) {\n  let currentList = storage.load(key) || [];\n  currentList.push(value);\n  button.classList.add('added');\n  storage.save(key, currentList);\n}\n\nfunction removeFromStorage(key, value, button) {\n  let currentList = storage.load(key) || [];\n  button.classList.remove('added');\n  currentList = currentList.filter(movie => movie.id.toString() != value.id);\n  storage.save(key, currentList);\n}\n\nfunction isInLibrary(storageKey, valueId) {\n  return storage.load(storageKey)?.some(movie => movie.id.toString() === valueId);\n}\n\nfunction outNum(num, elem) {\n  const time = 2500;\n  const step = 0.1;\n  let e = document.querySelector('#out');\n  let n = 0;\n  let t = Math.round(time / (num / step));\n  let interval = setInterval(() => {\n    n = n + step;\n    if (n >= num) {\n      clearInterval(interval);\n    }\n    e.innerHTML = n.toFixed(1);\n  }, t);\n}\n","const modalLink = document.querySelector('.footer__rights-link');\nconst closeBtn = document.querySelector('.modal__closeBtn');\nconst backDropp = document.querySelector('.backdropp');\nconsole.log(backDropp);\n\nmodalLink.addEventListener('click', e => {\n  e.preventDefault();\n  backDropp.classList.toggle('is-hidden');\n  document.addEventListener('keydown', pressEsc);\n});\ncloseBtn.addEventListener('click', e => {\n  backDropp.classList.remove('is-hidden');\n});\n\nfunction pressEsc(e) {\n  console.log(e);\n\n  if (e.code === 'Escape') {\n    backDropp.classList.add('is-hidden');\n    document.removeEventListener('keydown', pressEsc);\n  }\n}\n\nbackDropp.addEventListener('click', onBackdropp);\n\nfunction onBackdropp(e) {\n  document.removeEventListener('keydown', pressEsc);\n  backDropp.classList.add('is-hidden');\n}\n"],"names":["$e40a24b7fc93604f$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","$jzQFI","parcelRequire","$04f0a5c1aea569a3$export$6480921c90b27dca","$04f0a5c1aea569a3$export$ade5218dc613f789","$04f0a5c1aea569a3$export$1826db2756105efe","default","$04f0a5c1aea569a3$export$4505c8f675952b2a","$jcFG7","currentPage","$dfaf77c789ce7a24$var$inputRef","document","querySelector","$dfaf77c789ce7a24$var$gallery","$dfaf77c789ce7a24$var$btn1Ref","$dfaf77c789ce7a24$var$btn2Ref","$dfaf77c789ce7a24$var$btn3Ref","$dfaf77c789ce7a24$var$btn4Ref","$dfaf77c789ce7a24$var$btn5Ref","$dfaf77c789ce7a24$var$firstPageRef","$dfaf77c789ce7a24$var$lastPageRef","$dfaf77c789ce7a24$var$paginationRef","$dfaf77c789ce7a24$var$rightArrowRef","$dfaf77c789ce7a24$var$leftArrowRef","$dfaf77c789ce7a24$var$prevDotsRef","$dfaf77c789ce7a24$var$afterDotsRef","addEventListener","event","target","tagName","Number","textContent","$dfaf77c789ce7a24$export$385972cd6b54c3e1","hidden","classList","contains","$dfaf77c789ce7a24$var$btns","forEach","el","add","innerHTML","window","scrollTo","top","behavior","fetchMovies","fetchFilms","querySelectorAll","$1e616bd5a1604a68$export$2e4086a123c0d8cd","setTimeout","$40873ecf3c18e122$var$backdrop","$40873ecf3c18e122$var$closeButton","$40873ecf3c18e122$var$pressEsc","e","code","$40873ecf3c18e122$var$closeModal","$40873ecf3c18e122$var$getMovieFromLocalStorage","movieId","ref","find","movie","id","toString","body","style","overflow","$40873ecf3c18e122$var$removeFromStorage","button","currentList","filter","$40873ecf3c18e122$var$isInLibrary","storageKey","valueId","some","closest","preventDefault","dataset","cardMovieId","modalMovieId","currentMovie","poster_path","title","original_title","genres_ids","vote_average","release_date","vote_count","popularity","overview","addedClass","btnAddToWatched","concat","btnAddToQueue","toFixed","$40873ecf3c18e122$var$getModalMovieMarkup","num","elem","time","step","n","t","Math","round","interval","setInterval","clearInterval","$40873ecf3c18e122$var$outNum","currentTarget","nodeName","modalAddTo","SOURCE_KEY","includes","log","parentElement","push","$40873ecf3c18e122$var$addToStorage","$c596dd6d0e61f3b7$var$modalLink","$c596dd6d0e61f3b7$var$closeBtn","$c596dd6d0e61f3b7$var$backDropp","$c596dd6d0e61f3b7$var$pressEsc","removeEventListener","toggle"],"version":3,"file":"index.d88c34f3.js.map"}