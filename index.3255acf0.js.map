{"mappings":"oeAAAA,EAAA,S,wFCAA,IAAAC,EAAAD,EAAA,S,aAKQ,MAAME,EAAO,CACjBC,YAAaC,SAASC,cAAc,4BACpCC,WAAYF,SAASC,cAAc,uBACnCE,cAAeH,SAASC,cAAc,8BAM1C,IAAIG,EAWJ,SAASC,IACLP,EAAKI,WAAWI,UAAUC,OAAO,cAE0B,IAAvDT,EAAKI,WAAWI,UAAUE,MAAMC,SAAS,YACtCC,aAAaN,GAChBN,EAAKC,YAAYY,oBAAoB,QAASC,GAC9Cd,EAAKK,cAAcQ,oBAAoB,QAASN,G,CAIvD,SAASO,IACNd,EAAKI,WAAWI,UAAUC,OAAO,cAE0B,IAAvDT,EAAKI,WAAWI,UAAUE,MAAMC,SAAS,YACtCC,aAAaN,GAChBN,EAAKC,YAAYY,oBAAoB,QAASC,GAC9Cd,EAAKK,cAAcQ,oBAAoB,QAASN,G,CC5BxD,GDHIP,EAAKC,YAAYc,iBAAiB,QAASD,GAC3Cd,EAAKK,cAAcU,iBAAiB,QAASR,GAKrB,GAApBS,EAAAC,kBAAgDC,KAAZ,OAAXnB,EAAAoB,kBAAW,IAAXpB,EAAAoB,iBAAA,EAAApB,EAAAoB,YAAaT,SAGtCH,IACOD,EAAUc,YAAW,KAAQb,GAAa,GAAI,OCPzD,YAAac,iBAAiBC,UAAW,CACzCC,QAAQC,IAAI,8BACOtB,SAASuB,iBAAiB,yBAClCC,SAAQC,IACfA,EAAMC,IAAMD,EAAME,QAAQD,GAAG,G,KAG9B,CACHL,QAAQC,IAAI,iCACM,MAAZM,EAAS5B,SAAS6B,cAAc,UACtCD,EAAOF,IAAM,0EACbE,EAAOE,UAAY,kGACnBF,EAAOG,YAAc,YACrBH,EAAOI,eAAiB,cACxBhC,SAASiC,KAAKC,YAAYN,E,CAI9B,MAAMO,EAAanC,SAASuB,iBAAiB,mBAO7C,SAASa,EAAcC,GACnBhB,QAAQC,IAAI,2B,CAPZD,QAAQC,IAAIa,GAEZA,EAAWX,SAAQC,IACnBA,EAAMZ,iBAAiB,OAAQuB,EAAe,CAAEE,MAAM,GAAO","sources":["src/index.js","src/js/visitEvents.js","src/js/lazy-loading.js"],"sourcesContent":["import './js/common';\nimport './js/fetchMovies';\nimport './js/arrowUp';\nimport './js/loadPage';\nimport './js/pageInStorage';\nimport './js/modal';\nimport './js/pagination';\nimport './js/modalFooter';\nimport './js/storage';\nimport './js/visitEvents';\nimport './js/lazy-loading';\n\n","import { storagePage } from './pageInStorage';\nimport * as page from './pagination';\n\n\n\n export const refs = {\n    comeBackBtn: document.querySelector('button.js-visit-back-btn'),\n    visitModal: document.querySelector(\"[data-modal].dialog\"),   \n    visitCloseBtn: document.querySelector(\"button.js-visit-close-btn\"),\n};\n    refs.comeBackBtn.addEventListener(\"click\", comeBackBtnToggle); \n    refs.visitCloseBtn.addEventListener(\"click\", toggleModal);\n    \n    \nlet timerId;\n(() => {\n    if (page.currentPage == 1 || storagePage?.value === undefined) {\n        return \n    } else {        \n        toggleModal();\n        return timerId = setTimeout(() => { toggleModal() }, 15000);      \n    }\n})();    \n\n\nfunction toggleModal() {   \n    refs.visitModal.classList.toggle(\"is-hidden\");     \n    \n    if (refs.visitModal.classList.value.includes(\"hidden\") === true) {\n           clearTimeout(timerId);  \n        refs.comeBackBtn.removeEventListener(\"click\", comeBackBtnToggle);        \n        refs.visitCloseBtn.removeEventListener(\"click\", toggleModal);\n    };\n};\n\n function comeBackBtnToggle() {   \n    refs.visitModal.classList.toggle(\"is-hidden\");     \n   \n    if (refs.visitModal.classList.value.includes(\"hidden\") === true) {\n           clearTimeout(timerId);  \n        refs.comeBackBtn.removeEventListener(\"click\", comeBackBtnToggle);        \n        refs.visitCloseBtn.removeEventListener(\"click\", toggleModal);\n    };\n};\n","// import loadPage from './loadPage';\n// import { fetchFilms } from './loadPage';\n\n// 1. Для кожного зображення додати loading='lazy'\n// 2. Для того, щоб працювало в усіх браузерах, потрібна бібліотека lazysizes(знайти на git hub)\n// можна використати CDN lazysizes.min.js  , додати скрипт динамічно\n// - додати всім зображенням class='lazyload'\n// - src замінити на data-src\n// 3. видаляємо слухача за допомогою 'once'(підтримується майже всіма браузерами), додається в опції. Після того як\n// addEventListener спрацює один раз, він самовидалиться\n\n\n// Feature detection\nif ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер підтримує lazyload');\n    const lazyImages = document.querySelectorAll('image[loading=\"lazy\"]');\n    lazyImages.forEach(image => {\n        image.src = image.dataset.src;\n    });\n// supported in browser\n} else {\n    console.log('Браузер не підтримує lazyload');\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';\n    script.integrity = 'sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==';\n    script.crossOrigin = 'anonymous';\n    script.referrerpolicy = 'no-referrer';\n    document.body.appendChild(script);\n// fetch polyfill/third-party library\n}\n\nconst lazyImages = document.querySelectorAll('image[data-src]');\n    console.log(lazyImages);\n\n    lazyImages.forEach(image => {\n    image.addEventListener('load', onImageLoaded, { once: true });\n});\n\nfunction onImageLoaded(event) {\n    console.log(\"Зображення завантажилось\");\n// можна додати класс, анімацію і тд\n// event.target.classList.add();\n}"],"names":["parcelRequire","$ijW3m","$ffef372a5b1a0ba3$export$21666b427502ea6d","comeBackBtn","document","querySelector","visitModal","visitCloseBtn","$ffef372a5b1a0ba3$var$timerId","$ffef372a5b1a0ba3$var$toggleModal","classList","toggle","value","includes","clearTimeout","removeEventListener","$ffef372a5b1a0ba3$var$comeBackBtnToggle","addEventListener","$2nhTy","currentPage","undefined","storagePage","setTimeout","HTMLImageElement","prototype","console","log","querySelectorAll","forEach","image","src","dataset","script","createElement","integrity","crossOrigin","referrerpolicy","body","appendChild","$ead53d6c8d8f066c$var$lazyImages","$ead53d6c8d8f066c$var$onImageLoaded","event","once"],"version":3,"file":"index.3255acf0.js.map"}