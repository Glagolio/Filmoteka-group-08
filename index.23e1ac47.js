var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("7EEHk"),o("1TPJ0"),o("5RajV");var i=o("5uEKZ");const a=document.querySelector(".home-list");(async function(){return(await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=659c146febfafc17fd54baa17527f7fa&language=en-US")).json()})().then((({genres:e})=>{const t=[...e];localStorage.setItem("arrow",JSON.stringify(t))}));const s=i.default.load("arrow");(async function(e){return(await fetch(`${e}`)).json()})("https://api.themoviedb.org/3/trending/movie/week?api_key=659c146febfafc17fd54baa17527f7fa").then((({results:e})=>{e.poster_path;const t=e.map((({id:e,poster_path:t,title:n,original_title:o,genre_ids:i,release_date:a,original_name:r,first_air_date:c})=>{const d=[];let l="";for(const e of i)for(const t of s)e===t.id&&(d.push(t.name),i.length>2&&(l=",Other"));let u=a,f=c;a&&(u=u.slice(0,4)),c&&(f=f.slice(0,4));return`<li class="home-card js-modal-open" data-card-movie-id="${e}">\n            <a href="#" class="home-card__link">\n                <div class="card-info">\n                    <img class="home-card__img" src="${`https://image.tmdb.org/t/p/w500${t}`}" alt="${n}">\n                    <h2 class="card-info__title">${o||r}</h2>\n                    <p class="card-info_descr">\n                        <span>${d.splice(0,3)}  ${l}</span>\n                        \n                        |\n                        <span>${u||f}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`})).join("");i.default.save("movies",e),a.insertAdjacentHTML("beforeend",t)})),o("ijW3m"),o("bTcpz"),o("2nhTy");const r=document.querySelector(".footer__rights-link"),c=document.querySelector(".modal__closeBtn"),d=document.querySelector(".backdropp");function l(e){console.log(e),"Escape"===e.code&&(d.classList.add("is-hidden"),document.removeEventListener("keydown",l))}console.log(d),r.addEventListener("click",(e=>{e.preventDefault(),d.classList.toggle("is-hidden"),document.addEventListener("keydown",l)})),c.addEventListener("click",(e=>{d.classList.remove("is-hidden")})),d.addEventListener("click",(function(e){document.removeEventListener("keydown",l),d.classList.add("is-hidden")})),o("5uEKZ");var u=o("ijW3m"),f=o("2nhTy");const v={comeBackButton:document.querySelector("button.js-visit-back-btn"),visitModal:document.querySelector("[data-modal].dialog"),visitCloseBtn:document.querySelector("button.js-visit-close-btn")};let m;function g(){f.currentPage=u.storagePage.value,p()}function p(){v.visitModal.classList.toggle("is-hidden"),!0===v.visitModal.classList.value.includes("hidden")&&(clearTimeout(m),v.comeBackButton.removeEventListener("click",g),v.visitCloseBtn.removeEventListener("click",p))}v.comeBackButton.addEventListener("click",g),v.visitCloseBtn.addEventListener("click",p),1==f.currentPage||void 0===(null===u.storagePage||void 0===u.storagePage?void 0:u.storagePage.value)||(p(),m=setTimeout((()=>{p()}),15e3));
//# sourceMappingURL=index.23e1ac47.js.map
