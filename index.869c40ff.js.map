{"mappings":"IA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,QAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,UAI9BT,IACX,IACoC,OAA9BK,aAAaK,QAAQV,IAAiBK,aAAaQ,WAAWb,E,CAClE,MAAOO,GACLC,QAAQD,MAAM,uBAAwBA,EAAME,Q,ICtB7C,SAASK,IACVC,YAAW,KACCC,SAASC,iBAAiB,iBAClCC,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,iBAAgB,GACpD,I,CCAR,MACMC,EAAWN,SAASO,cAAc,cAElCC,EAAUR,SAASO,cAAc,mBAEvCE,eAAeC,EAAWC,GAKxB,aAHqBC,MACnB,GAAGD,MAEWE,M,CAGlBJ,eAAeK,IAIb,aAHqBF,MACnB,0GAEcC,M,CAGlBC,IAAcC,MAAK,EAACC,OAAEA,MACpB,MAAMC,EAAM,IAAID,GAChB3B,aAAaC,QAAQ,QAASH,KAAKC,UAAU6B,GAAK,IAEpD,MAAMC,EAASnC,EAAQoC,KAAK,SAuErB,SAASC,EAAuBC,GACrCf,EAASgB,UAAY,GACrBvC,EAAQwC,KAAKC,EAAqBH,GAClCP,IAAcC,MAAK,EAACC,OAAEA,MACtB,MAAMC,EAAM,IAAID,GAChB3B,aAAaC,QAAQ,QAASH,KAAKC,UAAU6B,GAAK,IAEpD,MAAMQ,EAAS1C,EAAQoC,KAAK,SAI1BT,EAAW,kGAAwEW,KAAeN,MAAK,EAACW,QAAEA,MAE1GA,EAAQC,YAGR,MAAMC,EAAOF,EACVG,KACC,EAACC,GACCA,EAAEH,YACFA,EAAWI,MACXA,EAAKC,eACLA,EAAcC,UACdA,EAASC,aACTA,EAAYC,cACZA,EAAaC,eACbA,MAEA,MAAMC,EAAW,GACjB,IAAIC,EAAQ,GACZ,IAAK,MAAMC,KAAWN,EACpB,IAAK,MAAMhD,KAASwC,EACdc,IAAYtD,EAAM6C,KACpBO,EAASG,KAAKvD,EAAMwD,MAChBR,EAAUS,OAAS,IACrBJ,EAAQ,WAMhB,IAAIK,EAAIT,EAEJU,EAAIR,EACJF,IACFS,EAAIA,EAAEE,MAAM,EAAG,IAEbT,IACFQ,EAAIA,EAAEC,MAAM,EAAG,IAIjB,MAAO,wEAAwEf,wJADhE,kCAAkCH,aAIcI,yDACpBC,GAAkBG,0FAErCE,EAASS,OAAO,EAAG,OAAOR,gGAG1BK,GAAKC,6FAIvB,IAIPG,KAAK,IACPhD,YAAW,KACEC,SAASC,iBAAiB,iBAClCC,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,iBAAgB,GACpD,KACJtB,EAAQwC,KAAK,SAAUG,GACvBpB,EAAS0C,mBAAmB,YAAapB,EAAK,G,CA/IjDlB,EAzBuB,6FAyBKK,MAAK,EAACW,QAAEA,MAEnCA,EAAQC,YAGR,MAAMC,EAAOF,EACVG,KACC,EAACC,GACCA,EAAEH,YACFA,EAAWI,MACXA,EAAKC,eACLA,EAAcC,UACdA,EAASC,aACTA,EAAYC,cACZA,EAAaC,eACbA,MAEA,MAAMC,EAAW,GACjB,IAAIC,EAAQ,GACZ,IAAK,MAAMC,KAAWN,EACpB,IAAK,MAAMhD,KAASiC,EACdqB,IAAYtD,EAAM6C,KACpBO,EAASG,KAAKvD,EAAMwD,MAChBR,EAAUS,OAAS,IACrBJ,EAAQ,WAMhB,IAAIK,EAAIT,EAEJU,EAAIR,EACJF,IACFS,EAAIA,EAAEE,MAAM,EAAG,IAEbT,IACFQ,EAAIA,EAAEC,MAAM,EAAG,IAIjB,MAAO,wEAAwEf,wJADhE,kCAAkCH,aAIcI,yDACpBC,GAAkBG,0FAErCE,EAASS,OAAO,EAAG,OAAOR,gGAG1BK,GAAKC,6FAIvB,IAIRG,KAAK,IACRvC,EAAQJ,UAAUC,OAAO,aACzBN,YAAW,KAAQS,EAAQJ,UAAU6C,IAAI,YAAY,GAAI,KACzDnD,IACDf,EAAQwC,KAAK,SAAUG,GACrBpB,EAAS0C,mBAAmB,YAAapB,EAAK,IC3FlD,MAAMsB,EAAWlD,SAASO,cAAc,mBAClC4C,EAAUnD,SAASO,cAAc,oBAEjC6C,EAAUpD,SAASO,cAAc,oBACjC8C,EAAUrD,SAASO,cAAc,oBACjC+C,EAAUtD,SAASO,cAAc,oBACjCgD,EAAUvD,SAASO,cAAc,oBACjCiD,EAAUxD,SAASO,cAAc,oBACjCkD,EAAezD,SAASO,cAAc,iBACtCmD,EAAc1D,SAASO,cAAc,gBACrCoD,EAAgB3D,SAASO,cAAc,yBACvCqD,EAAgB5D,SAASO,cAAc,gBACvCsD,EAAe7D,SAASO,cAAc,eACtCuD,EAAc9D,SAASO,cAAc,aACrCwD,EAAe/D,SAASO,cAAc,UAE5CoD,EAAcK,iBAAiB,SAU/B,SAA2BC,GACI,WAAzBA,EAAMC,OAAOC,UACXC,OAAOH,EAAMC,OAAOG,eACtBC,EAAcF,OAAOH,EAAMC,OAAOG,cAGpCP,EAAYS,QAAS,EACrBR,EAAaQ,QAAS,EAElBN,EAAMC,OAAO9D,UAAUoE,SAAS,uBAClCC,EAAKvE,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,yBACvC4D,EAAMC,OAAO9D,UAAU6C,IAAI,wBAGzBgB,EAAMC,OAAO9D,UAAUoE,SAAS,gBAAkBF,EAAc,MAClEG,EAAKvE,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,yBACvC+C,EAAQhD,UAAU6C,IAAI,uBACtBG,EAAQiB,YAAcD,OAAOhB,EAAQiB,aAAe,EACpDhB,EAAQgB,YAAcD,OAAOf,EAAQgB,aAAe,EACpDf,EAAQe,YAAcD,OAAOd,EAAQe,aAAe,EACpDd,EAAQc,YAAcD,OAAOb,EAAQc,aAAe,EACpDb,EAAQa,YAAcD,OAAOZ,EAAQa,aAAe,EACpDC,EAAclB,EAAQiB,aAGpBJ,EAAMC,OAAO9D,UAAUoE,SAAS,eAAiBF,GAAe,IAClEG,EAAKvE,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,yBACvC+C,EAAQiB,YAAcD,OAAOhB,EAAQiB,aAAe,EACpDhB,EAAQgB,YAAcD,OAAOf,EAAQgB,aAAe,EACpDf,EAAQe,YAAcD,OAAOd,EAAQe,aAAe,EACpDd,EAAQc,YAAcD,OAAOb,EAAQc,aAAe,EACpDb,EAAQa,YAAcD,OAAOZ,EAAQa,aAAe,EACpDb,EAAQpD,UAAU6C,IAAI,uBACtBqB,EAAcd,EAAQa,aAGpBJ,EAAMC,OAAO9D,UAAUoE,SAAS,kBAClCC,EAAKvE,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,yBACvC+C,EAAQiB,YAAc,EACtBhB,EAAQgB,YAAc,EACtBf,EAAQe,YAAc,EACtBd,EAAQc,YAAc,EACtBb,EAAQa,YAAc,EACtBjB,EAAQhD,UAAU6C,IAAI,uBACtBqB,EAAclB,EAAQiB,YACtBR,EAAaU,QAAS,EACtBT,EAAYS,QAAS,EACrBd,EAAac,QAAS,GAGpBN,EAAMC,OAAO9D,UAAUoE,SAAS,iBAClCC,EAAKvE,SAAQC,GAAMA,EAAGC,UAAUC,OAAO,yBACvC+C,EAAQiB,YAAcD,OAAOV,EAAYW,aAAe,EACxDhB,EAAQgB,YAAcD,OAAOV,EAAYW,aAAe,EACxDf,EAAQe,YAAcD,OAAOV,EAAYW,aAAe,EACxDd,EAAQc,YAAcD,OAAOV,EAAYW,aAAe,EACxDb,EAAQa,YAAcX,EAAYW,YAClCb,EAAQpD,UAAU6C,IAAI,uBACtBqB,EAAcd,EAAQa,YACtBT,EAAcW,QAAS,EACvBR,EAAaQ,QAAS,EACtBb,EAAYa,QAAS,GAGnBH,OAAOE,GAAe,GACxBT,EAAaU,QAAS,EACtBT,EAAYS,QAAS,EACrBd,EAAac,QAAS,IAEtBV,EAAaU,QAAS,EACtBT,EAAYS,QAAS,EACrBd,EAAac,QAAS,GAGpBH,OAAOE,GAAe,MACxBV,EAAcW,QAAS,EACvBR,EAAaQ,QAAS,EACtBb,EAAYa,QAAS,GAEP,OAAZpB,IACFA,EAAQ7B,UAAY,GACpBoD,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,YAEb,KAAnB3B,EAASjE,MACb6F,EAAgBR,GAEhBlD,EAAuBkD,G,IA9F7B,IAAIA,EAAc,EAEdG,EAAOzE,SAASC,iBAAiB,sBAErC6D,EAAYS,QAAS,EACrBV,EAAaU,QAAS,EACtBd,EAAac,QAAS,ECtBf,MAEM/C,EAAsB,qBACtBuD,EAAqBhG,EAAQoC,KAAKK,GAClCwD,EAAcjG,EAAQoC,KAJH,mBAKnB8D,EAAwBlG,EAAQoC,KAJR,qBAMvB+D,EAAO,CACjBC,YAAanF,SAASO,cAAc,4BACpC6E,WAAYpF,SAASO,cAAc,uBACnC8E,cAAerF,SAASO,cAAc,8BAM1C,IAAI+E,EAWJ,SAASC,IACLL,EAAKE,WAAWhF,UAAUoF,OAAO,cAE0B,IAAvDN,EAAKE,WAAWhF,UAAUnB,MAAMwG,SAAS,YACtCC,aAAaJ,GAChBJ,EAAKC,YAAYQ,oBAAoB,QAASC,GAC9CV,EAAKG,cAAcM,oBAAoB,QAASJ,G,CAIxD,SAASK,IACJ,IAAIC,EAAc,EACnBX,EAAKE,WAAWhF,UAAUoF,OAAO,aAE7BT,EAAqB,GACrBc,EAAcd,EACd3D,EAAuByE,KAEvBA,EAAcb,EACdF,EAAgBE,KAGuC,IAAvDE,EAAKE,WAAWhF,UAAUnB,MAAMwG,SAAS,YACtCC,aAAaJ,GAChBJ,EAAKC,YAAYQ,oBAAoB,QAASC,GAC9CV,EAAKG,cAAcM,oBAAoB,QAASJ,G,CAxCpDL,EAAKC,YAAYnB,iBAAiB,QAAS4B,GAC3CV,EAAKG,cAAcrB,iBAAiB,QAASuB,GAKlB,GAAtBR,GAA2C,OAAhBC,IAG5BO,IACOD,EAAUvF,YAAW,KAAQwF,GAAa,GAAI,OCvB7D,MAAMO,EAAY9F,SAASO,cAAc,eACnCwF,EAAW/F,SAASO,cAAc,cAClCyF,EAAUhG,SAASO,cAAc,mBACjC0F,EAAYjG,SAASO,cAAc,kBACzC,IAAI2F,EAAY,GA0BT,SAASC,EAAWC,GACzB,OAAOA,EACJvE,KAAI,EAACC,GAAEA,EAAEH,YAAEA,EAAWI,MAAEA,EAAKC,eAAEA,EAAcqE,WAAEA,EAAUnE,aAAEA,KAMnD,wEAAwEJ,wJALhEH,EACX,kCAAkCA,IAElC,4EAK6DI,yDACpBC,0FAEnBqE,sEAPb,IAAIC,KAAKpE,GAAcqE,4GAerCxD,KAAK,G,CAKVtC,eAAe+F,EAAYC,EAAUC,GACnC,MAAMC,EAAe,IAAIC,gBAAgB,CACvCC,QAAS,mCACTC,SAAU,QACVC,MAAON,IAGT,OAAO7F,MAAM,6CAA6C+F,UAAqBD,KAC5E3F,MAAKiG,IACJ,GAAIA,EAAIC,GACN,OAAOD,EAAInG,OAEb,MAAM,IAAIqG,MAAMF,EAAIG,WAAW,IAEhCpG,MAAKqG,IACG,CACLhB,OAAQgB,EAAK1F,W,CAQd,SAASoD,EAAgBzD,GAK5B,GAJA4E,EAAU7F,UAAU6C,IAAI,aACxB+C,EAAQ5F,UAAUC,OAAO,aACzB6F,EAAY,MAAAjB,OAAA,EAAAA,EAAuBoC,MACnCtI,EAAQwC,KDpFoB,kBCoFGF,GACb,KAAd6E,EAEF,OADAF,EAAQ5F,UAAU6C,IAAI,aACfqE,MAAM,eAEfd,EAAYN,EAAW7E,GAAaN,MAAK,EAACqF,OAAEA,MAC1C,GAAsB,IAAlBA,EAAO1D,OAGT,OAFAsD,EAAQ5F,UAAU6C,IAAI,kBACtBgD,EAAU7F,UAAUC,OAAO,aAG7BtB,EAAQwC,KAAK,SAAU6E,GACvBL,EAASzE,UAAY6E,EAAWC,GACjCrG,YAAW,KAAQiG,EAAQ5F,UAAU6C,IAAI,YAAY,GAAI,KACzDnD,GAAoB,G,CA7FzBgG,WAAW9B,iBAAiB,UAAUC,IAMpC,GALAA,EAAMsD,iBACNtB,EAAU7F,UAAU6C,IAAI,aACxB+C,EAAQ5F,UAAUC,OAAO,aACzB6F,EAAYJ,EAAU0B,SAAST,MAAM9H,MAAMwI,OAC3C1I,EAAQsB,OAAOmB,GACG,KAAd0E,EAEF,OADAF,EAAQ5F,UAAU6C,IAAI,aACfqE,MAAM,eAEfd,EAAYN,GAAWnF,MAAK,EAACqF,OAAEA,MAC7B,GAAsB,IAAlBA,EAAO1D,OAGT,OAFAsD,EAAQ5F,UAAU6C,IAAI,kBACtBgD,EAAU7F,UAAUC,OAAO,aAG7BtB,EAAQwC,KDpByB,oBCoBE,CAAC8F,MAAOnB,IAC3CnH,EAAQwC,KAAK,SAAU6E,GACvBL,EAASzE,UAAY6E,EAAWC,GACjCrG,YAAW,KAAQiG,EAAQ5F,UAAU6C,IAAI,YAAY,GAAI,KACxDnD,GAAoB,GACpB,IC7BJ,MAAM4H,EAAW1H,SAASO,cAAc,gBAClCoH,EAAc3H,SAASO,cAAc,sBAe1B,SAARqH,EAASC,GACD,WAAXA,EAAEC,MACJC,G,CAkCJ,SAASC,EAAyBC,EAASjJ,G,IAClCkJ,EAAP,OAAwB,QAAjBA,EAAAnJ,EAAQoC,KAAKnC,UAAI,IAAjBkJ,OAAA,EAAAA,EAAmBC,MAAKd,GAASA,EAAMvF,GAAGsG,aAAeH,G,CAIlE,SAASF,IACPhJ,EAAQsB,OAAO,iBACfL,SAASgE,iBAAiB,UAAW4D,GACrC5H,SAASqI,KAAKC,MAAMC,SAAW,GAC/Bb,EAAStH,UAAU6C,IAAI,Y,CAqHzB,SAASuF,EAAkBxJ,EAAKC,EAAOwJ,GACrC,IAAIC,EAAc3J,EAAQoC,KAAKnC,IAAQ,GACvCyJ,EAAOrI,UAAUC,OAAO,SACxBqI,EAAcA,EAAYC,QAAOtB,GAASA,EAAMvF,GAAGsG,YAAcnJ,EAAM6C,KACvE/C,EAAQwC,KAAKvC,EAAK0J,E,CAGpB,SAASE,EAAYC,EAAYC,G,IACxBZ,EAAP,OAA+B,QAAxBA,EAAAnJ,EAAQoC,KAAK0H,UAAW,IAAxBX,OAAA,EAAAA,EAA0Ba,MAAK1B,GAASA,EAAMvF,GAAGsG,aAAeU,G,CAxLlD9I,SAASO,cAAc,qBAE/ByD,iBAAiB,SAAS6D,IAEnCA,EAAE3D,OAAO8E,QAAQ,oBACnBnB,EAAEN,iBA6BoB,SAAPU,GACjBjI,SAASgE,iBAAiB,UAAW4D,GAErCF,EAASnH,cAAc,gBAAgB0I,QAAQC,aAAejB,EAC9DP,EAASnH,cAAc,gBAAgBe,UAwBzC,SAA6B2G,GAC3B,MAAMkB,EACJnB,EAAyBC,EAAS,WAClCD,EAAyBC,EAAS,iBAClCD,EAAyBC,EAAS,cAEpClJ,EAAQwC,KAAK,gBAAiB4H,GAE9B,MAAMxH,YACJA,EAAWI,MACXA,EAAKC,eACLA,EAAcqE,WACdA,EAAUnE,aACVA,EAAYkH,aACZA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,SACVA,GACEJ,EAIJ,IAAIK,EAAaZ,EAAY,gBAF7BX,EAAUA,EAAQG,YAEmCA,YAAc,QAAU,GAC7E,MAAMqB,EAAkB,6DAA6DD,8TAOrFA,EAAaZ,EAAY,aAAcX,EAAQG,YAAc,QAAU,GACvE,MAAMsB,EAAgB,2DAA2DF,wTAOjF,MAAO,2FAC8C7H,WAAqBI,wHAG3BA,4QAKSqH,EAAaO,QAAQ,0GAE7BN,+NAKMC,EAAWK,QAAQ,mMAInB3H,yLAIAqE,sRAMLkD,0GAG7BE,0BACAC,uE,CAhG+BE,CAAoB3B,GACvEjI,SAASqI,KAAKC,MAAMC,SAAW,SAC/Bb,EAAStH,UAAUC,OAAO,cAmJ5B,SAAgBwJ,EAAKC,GACnB,MAAMC,EAAO,KACPC,EAAO,GACb,IAAInC,EAAI7H,SAASO,cAAc,QAC3B0J,EAAI,EACJC,EAAIC,KAAKC,MAAML,GAAQF,EAAMG,IAC7BK,EAAWC,aAAY,KACzBL,GAAQD,EACJC,GAAKJ,GACPU,cAAcF,GAEhBxC,EAAEvG,UAAY2I,EAAEN,QAAQ,EAAE,GACzBO,E,CAxJHM,CADqB9C,EAASnH,cAAc,QAAQ8D,Y,CAxClDoG,CAAU5C,EAAE3D,OAAO8E,QAAQ,kBAAkBC,QAAQyB,a,IAKpC/C,EAAT3D,iBAAiB,QAAS+D,GAUjBL,EAAZ1D,iBAAiB,SAE1B,SAAuB6D,GACrB,GAAIA,EAAE8C,gBAAkB9C,EAAE3D,OAExB,YADA6D,IAGwB,WAAtBF,EAAE3D,OAAO0G,UAsHf,SAA2BnC,G,IACbP,EAAZ,MAAMlJ,GAAoB,QAAdkJ,EAAAO,EAAOQ,eAAO,IAAdf,OAAA,EAAAA,EAAgB2C,YAAa,QAKnC5L,EAAQF,EAAQoC,KAFH,iBAIfpC,EAAQoC,KAAKnC,IAAQ4J,EAAY5J,EAAKC,EAAM6C,GAAGsG,YACjDI,EAAkBxJ,EAAKC,EAAOwJ,IAE1BzJ,EAAIyG,SAAS,UAAYmD,EAAY,aAAc3J,EAAM6C,GAAGsG,cAC9D5I,QAAQsL,IAAI,oBACZtC,EACE,aACAvJ,EACAwJ,EAAOsC,cAAcxK,cAAc,uBAO3C,SAAsBvB,EAAKC,EAAOwJ,GAChC,IAAIC,EAAc3J,EAAQoC,KAAKnC,IAAQ,GACvC0J,EAAYlG,KAAKvD,GACjBwJ,EAAOrI,UAAU6C,IAAI,SACrBlE,EAAQwC,KAAKvC,EAAK0J,E,CARhBsC,CAAahM,EAAKC,EAAOwJ,G,CAxIzBwC,CAAkBpD,EAAE3D,OAAO8E,QAAQ,c,ICjCvC,MAAMkC,EAAYlL,SAASO,cAAc,wBACnC4K,EAAWnL,SAASO,cAAc,oBAClC6K,EAAYpL,SAASO,cAAc,cAYzC,SAAS8K,EAASxD,GAChBrI,QAAQsL,IAAIjD,GAEG,WAAXA,EAAEC,OACJsD,EAAUhL,UAAU6C,IAAI,aACxBjD,SAAS2F,oBAAoB,UAAW0F,G,CCN5C,GDVA7L,QAAQsL,IAAIM,GAEZF,EAAUlH,iBAAiB,SAAS6D,IAClCA,EAAEN,iBACF6D,EAAUhL,UAAUoF,OAAO,aAC3BxF,SAASgE,iBAAiB,UAAWqH,EAAS,IAEhDF,EAASnH,iBAAiB,SAAS6D,IACjCuD,EAAUhL,UAAUC,OAAO,YAAY,IAYzC+K,EAAUpH,iBAAiB,SAE3B,SAAqB6D,GACnB7H,SAAS2F,oBAAoB,UAAW0F,GACxCD,EAAUhL,UAAU6C,IAAI,Y,ICdtB,YAAaqI,iBAAiBC,UAAW,CACzC/L,QAAQsL,IAAI,8BACO9K,SAASC,iBAAiB,yBAClCC,SAAQsL,IACfA,EAAMC,IAAMD,EAAMvC,QAAQwC,GAAG,G,KAG9B,CACHjM,QAAQsL,IAAI,iCACM,MAAZY,EAAS1L,SAAS2L,cAAc,UACtCD,EAAOD,IAAM,0EACbC,EAAOE,UAAY,kGACnBF,EAAOG,YAAc,YACrBH,EAAOI,eAAiB,cACxB9L,SAASqI,KAAK0D,YAAYL,E,CAI9B,MAAMM,EAAahM,SAASC,iBAAiB,mBAO7C,SAASgM,EAAchI,GACnBzE,QAAQsL,IAAI,2B,CAPZtL,QAAQsL,IAAIkB,GAEZA,EAAW9L,SAAQsL,IACnBA,EAAMxH,iBAAiB,OAAQiI,EAAe,CAAEC,MAAM,GAAO","sources":["src/js/storage.js","src/js/sceletonLoad.js","src/js/loadPage.js","src/js/pagination.js","src/js/visitEvents.js","src/js/fetchMovies.js","src/js/modal.js","src/js/modalFooter.js","src/js/lazy-loading.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n    try { \n      if (localStorage.getItem(key) !== null) { localStorage.removeItem(key); }\n    } catch (error) {\n        console.error(\"Remove state error: \", error.message);\n    }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","export function removeSceletonLoad() {\n      setTimeout(() => {\n      const arr = document.querySelectorAll('.placeholdify');\n      arr.forEach(el => el.classList.remove('placeholdify'));\n      },2000);\n}","import storage from './storage';\nimport { POPULAR_STORAGE_KEY } from './visitEvents';\nimport { removeSceletonLoad } from './sceletonLoad';\n\nconst KEY = '659c146febfafc17fd54baa17527f7fa';\nconst homeList = document.querySelector('.home-list');\nconst API_URL_POPULAR = `https://api.themoviedb.org/3/trending/movie/week?api_key=${KEY}`;\nconst spinner = document.querySelector('.spinner-loader');\n\nasync function fetchFilms(API_URL_POPULAR) {\n\n  let response = await fetch(\n    `${API_URL_POPULAR}`\n  );\n  return response.json();\n}\n\nasync function fetchGenres() {\n  let response = await fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${KEY}&language=en-US`\n  );\n  return response.json();\n}\n\nfetchGenres().then(({ genres }) => {\n  const arr = [...genres];\n  localStorage.setItem('arrow', JSON.stringify(arr));\n});\nconst values = storage.load('arrow');\n\n\n fetchFilms(API_URL_POPULAR).then(({ results }) => {\n\n  results.poster_path;\n\n\n  const mark = results\n    .map(\n      ({\n        id,\n        poster_path,\n        title,\n        original_title,\n        genre_ids,\n        release_date,\n        original_name,\n        first_air_date,\n      }) => {\n        const genreArr = [];\n        let other = '';\n        for (const genreId of genre_ids) {\n          for (const value of values) {\n            if (genreId === value.id) {\n              genreArr.push(value.name);\n              if (genre_ids.length > 2) {\n                other = ',Other';\n              }\n            }\n          }\n        }\n\n        let a = release_date;\n\n        let b = first_air_date;\n        if (release_date) {\n          a = a.slice(0, 4);\n        }\n        if (first_air_date) {\n          b = b.slice(0, 4);\n        }\n\n        const imgUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        return `<li class=\"home-card js-modal-open placeholdify\" data-card-movie-id=\"${id}\">\n            <a href=\"#\" class=\"home-card__link\">\n                <div class=\"card-info\">\n                    <img class=\"home-card__img\" src=\"${imgUrl}\" alt=\"${title}\">\n                    <h2 class=\"card-info__title\">${original_title || original_name}</h2>\n                    <p class=\"card-info_descr\">\n                        <span>${genreArr.splice(0, 2)}  ${other}</span>\n                        \n                        |\n                        <span>${a || b}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`;\n      }\n  )\n    \n     .join('');\n   spinner.classList.remove('is-hidden');\n   setTimeout(() => { spinner.classList.add('is-hidden') }, 2000);\n   removeSceletonLoad();\n  storage.save('movies', results);\n    homeList.insertAdjacentHTML('beforeend', mark);\n});\n\n// export default fetchFilms;\n\nexport function loadPopularStoragePage(currentPage) {\n  homeList.innerHTML = \"\"; \n  storage.save(POPULAR_STORAGE_KEY, currentPage );\n  fetchGenres().then(({ genres }) => {\n  const arr = [...genres];\n  localStorage.setItem('arrow', JSON.stringify(arr));\n});\nconst values = storage.load('arrow');\n\n  \n\n  fetchFilms(`https://api.themoviedb.org/3/trending/movie/week?api_key=${KEY}&page=${currentPage}`).then(({ results }) => {\n\n  results.poster_path;\n\n\n  const mark = results\n    .map(\n      ({\n        id,\n        poster_path,\n        title,\n        original_title,\n        genre_ids,\n        release_date,\n        original_name,\n        first_air_date,\n      }) => {\n        const genreArr = [];\n        let other = '';\n        for (const genreId of genre_ids) {\n          for (const value of values) {\n            if (genreId === value.id) {\n              genreArr.push(value.name);\n              if (genre_ids.length > 2) {\n                other = ',Other';\n              }\n            }\n          }\n        }\n\n        let a = release_date;\n\n        let b = first_air_date;\n        if (release_date) {\n          a = a.slice(0, 4);\n        }\n        if (first_air_date) {\n          b = b.slice(0, 4);\n        }\n\n        const imgUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        return `<li class=\"home-card js-modal-open placeholdify\" data-card-movie-id=\"${id}\">\n            <a href=\"#\" class=\"home-card__link\">\n                <div class=\"card-info\">\n                    <img class=\"home-card__img\" src=\"${imgUrl}\" alt=\"${title}\">\n                    <h2 class=\"card-info__title\">${original_title || original_name}</h2>\n                    <p class=\"card-info_descr\">\n                        <span>${genreArr.splice(0, 2)}  ${other}</span>\n                        \n                        |\n                        <span>${a || b}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`;\n      }\n  )\n    \n      .join('');\n     setTimeout(() => {\n      const arr = document.querySelectorAll('.placeholdify');\n      arr.forEach(el => el.classList.remove('placeholdify'));\n      },2000);\n    storage.save('movies', results);\n    homeList.insertAdjacentHTML('beforeend', mark);\n});\n}\n","import { loadFetchMovies } from \"./fetchMovies\";\nimport { loadPopularStoragePage } from \"./loadPage\";\n\nconst inputRef = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-card-library');\n\nconst btn1Ref = document.querySelector('[data-index=\"1\"]');\nconst btn2Ref = document.querySelector('[data-index=\"2\"]');\nconst btn3Ref = document.querySelector('[data-index=\"3\"]');\nconst btn4Ref = document.querySelector('[data-index=\"4\"]');\nconst btn5Ref = document.querySelector('[data-index=\"5\"]');\nconst firstPageRef = document.querySelector('.first-button');\nconst lastPageRef = document.querySelector('.last-button');\nconst paginationRef = document.querySelector('.pagination-container');\nconst rightArrowRef = document.querySelector('.arrow-right');\nconst leftArrowRef = document.querySelector('.arrow-left');\nconst prevDotsRef = document.querySelector('#previous');\nconst afterDotsRef = document.querySelector('#after');\n\npaginationRef.addEventListener('click', onPaginationClick);\n\nlet currentPage = 1;\n\nlet btns = document.querySelectorAll('.pagination-button');\n\nprevDotsRef.hidden = true;\nleftArrowRef.hidden = true;\nfirstPageRef.hidden = true;\n\nfunction onPaginationClick(event) {\n  if (event.target.tagName === 'BUTTON') {\n    if (Number(event.target.textContent)) {\n      currentPage = Number(event.target.textContent);    \n    }\n    \n    prevDotsRef.hidden = true;\n    afterDotsRef.hidden = true;\n\n    if (event.target.classList.contains('pagination-button')) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      event.target.classList.add('pagination--current');\n    }\n\n    if (event.target.classList.contains('arrow-right') && currentPage < 1000) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.classList.add('pagination--current');\n      btn1Ref.textContent = Number(btn1Ref.textContent) + 5;\n      btn2Ref.textContent = Number(btn2Ref.textContent) + 5;\n      btn3Ref.textContent = Number(btn3Ref.textContent) + 5;\n      btn4Ref.textContent = Number(btn4Ref.textContent) + 5;\n      btn5Ref.textContent = Number(btn5Ref.textContent) + 5;\n      currentPage = btn1Ref.textContent;\n    }\n\n    if (event.target.classList.contains('arrow-left') && currentPage >= 5) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.textContent = Number(btn1Ref.textContent) - 5;\n      btn2Ref.textContent = Number(btn2Ref.textContent) - 5;\n      btn3Ref.textContent = Number(btn3Ref.textContent) - 5;\n      btn4Ref.textContent = Number(btn4Ref.textContent) - 5;\n      btn5Ref.textContent = Number(btn5Ref.textContent) - 5;\n      btn5Ref.classList.add('pagination--current');\n      currentPage = btn5Ref.textContent;\n    }\n\n    if (event.target.classList.contains('first-button')) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.textContent = 1;\n      btn2Ref.textContent = 2;\n      btn3Ref.textContent = 3;\n      btn4Ref.textContent = 4;\n      btn5Ref.textContent = 5;\n      btn1Ref.classList.add('pagination--current');\n      currentPage = btn1Ref.textContent;\n      leftArrowRef.hidden = true;\n      prevDotsRef.hidden = true;\n      firstPageRef.hidden = true;\n    }\n\n    if (event.target.classList.contains('last-button')) {\n      btns.forEach(el => el.classList.remove('pagination--current'));\n      btn1Ref.textContent = Number(lastPageRef.textContent) - 4;\n      btn2Ref.textContent = Number(lastPageRef.textContent) - 3;\n      btn3Ref.textContent = Number(lastPageRef.textContent) - 2;\n      btn4Ref.textContent = Number(lastPageRef.textContent) - 1;\n      btn5Ref.textContent = lastPageRef.textContent;\n      btn5Ref.classList.add('pagination--current');\n      currentPage = btn5Ref.textContent;\n      rightArrowRef.hidden = true;\n      afterDotsRef.hidden = true;\n      lastPageRef.hidden = true;\n    }\n\n    if (Number(currentPage) > 5) {\n      leftArrowRef.hidden = false;\n      prevDotsRef.hidden = false;\n      firstPageRef.hidden = false;\n    } else {\n      leftArrowRef.hidden = true;\n      prevDotsRef.hidden = true;\n      firstPageRef.hidden = true;\n    }\n\n    if (Number(currentPage) < 996) {\n      rightArrowRef.hidden = false;\n      afterDotsRef.hidden = false;\n      lastPageRef.hidden = false;\n    }\n    if (gallery !== null) {\n      gallery.innerHTML = '';\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n      if (inputRef.value !== '') {\n      loadFetchMovies(currentPage)\n    } else {\n      loadPopularStoragePage(currentPage)        \n    } \n  }\n}\n\nlet pageSize = 9;\n\nfunction defineResultsPerPage() {\n  if (window.innerWidth >= 1024) {\n    pageSize = 9;\n  } else if (window.innerWidth >= 768 && window.innerWidth < 1024) {\n    pageSize = 8;\n  } else if (window.innerWidth < 768) {\n    pageSize = 4;\n  }\n  return pageSize;\n}\n\n\nexport { currentPage, defineResultsPerPage };\n\n","import { loadPopularStoragePage } from \"./loadPage\";\nimport { loadFetchMovies } from \"./fetchMovies\";\nimport storage from \"./storage\";\nimport { currentPage } from \"./pagination\";\n\nexport const STORAGE_PAGE_KEY = 'last visit page';\nexport const STORAGE_MOVIES_SEARCH = 'last visit search'\nexport const POPULAR_STORAGE_KEY = 'last visit popular'\nexport const popularStoragePage = storage.load(POPULAR_STORAGE_KEY);\nexport const storagePage = storage.load(STORAGE_PAGE_KEY);\nexport const storageLastSearchText = storage.load(STORAGE_MOVIES_SEARCH);\n\n export const refs = {\n    comeBackBtn: document.querySelector('button.js-visit-back-btn'),\n    visitModal: document.querySelector(\"[data-modal].dialog\"),   \n    visitCloseBtn: document.querySelector(\"button.js-visit-close-btn\"),\n};\n    refs.comeBackBtn.addEventListener(\"click\", comeBackBtnToggle); \n    refs.visitCloseBtn.addEventListener(\"click\", toggleModal);\n    \n    \nlet timerId;\n(() => {\n    if ( popularStoragePage == 1 && storagePage === null ) {\n        return \n    } else {        \n        toggleModal();\n        return timerId = setTimeout(() => { toggleModal() }, 15000);      \n    }\n})();    \n\n\nfunction toggleModal() {   \n    refs.visitModal.classList.toggle(\"is-hidden\");    \n    \n    if (refs.visitModal.classList.value.includes(\"hidden\") === true) {\n           clearTimeout(timerId);  \n        refs.comeBackBtn.removeEventListener(\"click\", comeBackBtnToggle);        \n        refs.visitCloseBtn.removeEventListener(\"click\", toggleModal);\n    };\n};\n\nfunction comeBackBtnToggle() {   \n     let currentPage = 1\n    refs.visitModal.classList.toggle(\"is-hidden\");  \n\n    if (popularStoragePage > 1) {\n        currentPage = popularStoragePage;\n        loadPopularStoragePage(currentPage);\n    } else {\n        currentPage = storagePage;\n        loadFetchMovies(storagePage);\n    }\n    \n    if (refs.visitModal.classList.value.includes(\"hidden\") === true) {\n           clearTimeout(timerId);  \n        refs.comeBackBtn.removeEventListener(\"click\", comeBackBtnToggle);        \n        refs.visitCloseBtn.removeEventListener(\"click\", toggleModal);\n    };\n};\n","import storage from './storage';\nimport {POPULAR_STORAGE_KEY, STORAGE_MOVIES_SEARCH, storageLastSearchText ,STORAGE_PAGE_KEY} from './visitEvents';\nimport { removeSceletonLoad } from './sceletonLoad';\n\nconst formField = document.querySelector('.form-field');\nconst homeList = document.querySelector('.home-list');\nconst spinner = document.querySelector('.spinner-loader');\nconst textError = document.querySelector('.search-result');\nlet movieName = '';\n\nformField?.addEventListener('submit', event => {\n  event.preventDefault();\n  textError.classList.add('is-hidden');\n  spinner.classList.remove('is-hidden');\n  movieName = formField.elements.query.value.trim(); \n  storage.remove(POPULAR_STORAGE_KEY);\n  if (movieName === '') {\n    spinner.classList.add('is-hidden');\n    return alert('Empty field');\n  }\n  fetchMovies(movieName).then(({ movies }) => {\n    if (movies.length === 0) {\n      spinner.classList.add('is-hidden');\n      textError.classList.remove('is-hidden');\n      return;\n    }\n    storage.save(STORAGE_MOVIES_SEARCH,{movie: movieName});\n    storage.save('movies', movies);\n    homeList.innerHTML = movieCards(movies);\n   setTimeout(() => { spinner.classList.add('is-hidden') }, 2000);\n    removeSceletonLoad();\n  });\n});\n\nexport function movieCards(movies) {\n  return movies\n    .map(({ id, poster_path, title, original_title, genres_ids, release_date }) => {\n      const imgUrl = poster_path\n        ? `https://image.tmdb.org/t/p/w500${poster_path}`\n        : // : './images/netuNichego.png';\n          'https://via.placeholder.com/395x574/FFFFFF/FF001B?text=No+poster';\n      const year = new Date(release_date).getFullYear();\n      return `<li class=\"home-card js-modal-open placeholdify\" data-card-movie-id=\"${id}\">\n            <a href=\"#\" class=\"home-card__link\">\n                <div class=\"card-info\">\n                    <img class=\"home-card__img\" src=\"${imgUrl}\" alt=\"${title}\">\n                    <h2 class=\"card-info__title\">${original_title}</h2>\n                    <p class=\"card-info_descr\">\n                        <span>${genres_ids}</span>\n                        |\n                        <span>${year}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`;\n    })\n    .join('');\n}\n   \n \n\nasync function fetchMovies(movieName,page) {\n  const searchParams = new URLSearchParams({\n    api_key: '659c146febfafc17fd54baa17527f7fa',\n    language: 'en-US',\n    query: movieName,\n  });\n\n  return fetch(`https://api.themoviedb.org/3/search/movie?${searchParams}&page=${page}`)\n    .then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      throw new Error(res.statusText);\n    })\n    .then(data => {\n      return {\n        movies: data.results,\n      };\n    });\n      \n}\n\n\n//load last page search\nexport function loadFetchMovies(currentPage) {\n    textError.classList.add('is-hidden');\n    spinner.classList.remove('is-hidden');\n    movieName = storageLastSearchText?.movie;\n    storage.save(STORAGE_PAGE_KEY, currentPage);\n    if (movieName === '') {\n      spinner.classList.add('is-hidden');\n      return alert('Empty field');\n    }\n    fetchMovies(movieName, currentPage).then(({ movies }) => {\n      if (movies.length === 0) {\n        spinner.classList.add('is-hidden');\n        textError.classList.remove('is-hidden');\n        return;\n      }\n      storage.save('movies', movies);\n      homeList.innerHTML = movieCards(movies);\n     setTimeout(() => { spinner.classList.add('is-hidden') }, 2000);\n     removeSceletonLoad();    \n    });\n  };\n\n \n\n","import storage from './storage';\n\nconst backdrop = document.querySelector('[data-modal]');\nconst closeButton = document.querySelector('[data-modal-close]');\nconst cardsContainer = document.querySelector('.movies-container');\n\ncardsContainer.addEventListener('click', e => {\n  //Тиць по 'js-modal-open' -> відкриває модалку\n  if (e.target.closest('.js-modal-open')) {\n    e.preventDefault();\n    openModal(e.target.closest('.js-modal-open').dataset.cardMovieId);\n  }\n});\n\n// Тиць по 'data-modal-close' ->закриває модалку\ncloseButton.addEventListener('click', closeModal);\n\n//Press по Esc ->закриває модалку\nfunction pressEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\n// Тиць по backdrop -> закриває модалку\nbackdrop.addEventListener('click', backdropClick);\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeModal();\n    return;\n  }\n  if (e.target.nodeName === 'BUTTON') {\n    addMovieToLibrary(e.target.closest('.movie-btn'));\n  }\n}\n\n// Якщо модалка відкрита -> кидаємо AddEventListener\nfunction openModal(movieId) {\n  document.addEventListener('keydown', pressEsc);\n\n  backdrop.querySelector('.modal-movie').dataset.modalMovieId = movieId;\n  backdrop.querySelector('.modal-movie').innerHTML = getModalMovieMarkup(movieId);\n  document.body.style.overflow = 'hidden';\n  backdrop.classList.remove('is-hidden');\n  // const { vote_average } =\n  //   getMovieFromLocalStorage(movieId, 'movies') ||\n  //   getMovieFromLocalStorage(movieId, 'watched-list') ||\n  //   getMovieFromLocalStorage(movieId, 'queue-list');\n  // console.log(vote_average);\n  const vote_average = backdrop.querySelector('#out').textContent;\n  outNum(vote_average, '#out');\n}\n\nfunction getMovieFromLocalStorage(movieId, key) {\n  return storage.load(key)?.find(movie => movie.id.toString() === movieId);\n}\n\n// Як тільки закривається модалка -> знімаємо EventListener\nfunction closeModal() {\n  storage.remove('current-movie');\n  document.addEventListener('keydown', pressEsc);\n  document.body.style.overflow = '';\n  backdrop.classList.add('is-hidden');\n}\n\nfunction getModalMovieMarkup(movieId) {\n  const currentMovie =\n    getMovieFromLocalStorage(movieId, 'movies') ||\n    getMovieFromLocalStorage(movieId, 'watched-list') ||\n    getMovieFromLocalStorage(movieId, 'queue-list');\n\n  storage.save('current-movie', currentMovie);\n\n  const {\n    poster_path,\n    title,\n    original_title,\n    genres_ids,\n    release_date,\n    vote_average,\n    vote_count,\n    popularity,\n    overview,\n  } = currentMovie;\n\n  movieId = movieId.toString();\n\n  let addedClass = isInLibrary('watched-list', movieId.toString()) ? 'added' : '';\n  const btnAddToWatched = `<div class=\"modal-movie__btn movie-btn movie-btn--watched ${addedClass}\" data-modal-add-to=\"watched\">\n                          <div class=\"movie-btn__inner\">\n                            <button class=\"remove\">REMOVE FROM<br>WATCHED</button>\n                            <button class=\"add\">ADD TO<br>WATCHED</button>\n                          </div>\n                        </div>`;\n\n  addedClass = isInLibrary('queue-list', movieId.toString()) ? 'added' : '';\n  const btnAddToQueue = `<div class=\"modal-movie__btn movie-btn movie-btn--queue ${addedClass}\" data-modal-add-to=\"queue\">\n                          <div class=\"movie-btn__inner\">\n                            <button class=\"remove\">REMOVE FROM<br>QUEUE</button>\n                            <button class=\"add\">ADD TO<br>QUEUE</button>\n                          </div>\n                        </div>`;\n\n  return `<div class=\"modal-movie__poster\">\n            <img src='https://image.tmdb.org/t/p/w500${poster_path}' alt=\"${title}\" />\n          </div>\n            <div class=\"modal-movie__info\">\n                <h2 class=\"modal-movie__title\">${title}</h2>\n                <table class=\"movie-table\">\n                    <tr>\n                        <td class=\"movie-table__title\">Vote / Votes</td>\n                        <td class=\"movie-table__info\">\n                            <span id=\"out\" class=\"vote\">${vote_average.toFixed(1)}</span>\n                            <span>/</span>\n                            <span class=\"votes\">${vote_count}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Popularity</td>\n                        <td class=\"movie-table__info\">${popularity.toFixed(0)}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Original Title</td>\n                        <td class=\"movie-table__info\">${original_title}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Genre</td>\n                        <td class=\"movie-table__info\">${genres_ids}</td>\n                    </tr>\n                </table>\n                <div class=\"modal-movie__box\">\n                <div class=\"modal-movie__about\">\n                    <p class=\"modal-movie__description\">ABOUT</p>\n                    <p class=\"modal-movie__text\">${overview}</p>\n                </div>\n                <div class=\"modal-movie__buttons\">\n                    ${btnAddToWatched}\n                    ${btnAddToQueue}\n                </div>\n                </div>\n            </div>`;\n}\n\n/* -----------------------\n\nModal buttons functionality\n\n----------------------- */\n\nfunction addMovieToLibrary(button) {\n  const key = button.dataset?.modalAddTo + '-list';\n  // const movieId = button.closest('.modal-movie').dataset.modalMovieId;\n\n  const SOURCE_KEY = 'current-movie';\n\n  const value = storage.load(SOURCE_KEY);\n\n  if (storage.load(key) && isInLibrary(key, value.id.toString())) {\n    removeFromStorage(key, value, button);\n  } else {\n    if (key.includes('watch') && isInLibrary('queue-list', value.id.toString())) {\n      console.log('already in queue');\n      removeFromStorage(\n        'queue-list',\n        value,\n        button.parentElement.querySelector('.movie-btn--queue')\n      );\n    }\n    addToStorage(key, value, button);\n  }\n}\n\nfunction addToStorage(key, value, button) {\n  let currentList = storage.load(key) || [];\n  currentList.push(value);\n  button.classList.add('added');\n  storage.save(key, currentList);\n}\n\nfunction removeFromStorage(key, value, button) {\n  let currentList = storage.load(key) || [];\n  button.classList.remove('added');\n  currentList = currentList.filter(movie => movie.id.toString() != value.id);\n  storage.save(key, currentList);\n}\n\nfunction isInLibrary(storageKey, valueId) {\n  return storage.load(storageKey)?.some(movie => movie.id.toString() === valueId);\n}\n\nfunction outNum(num, elem) {\n  const time = 2500;\n  const step = 0.1;\n  let e = document.querySelector('#out');\n  let n = 0;\n  let t = Math.round(time / (num / step));\n  let interval = setInterval(() => {\n    n = n + step;\n    if (n >= num) {\n      clearInterval(interval);\n    }\n    e.innerHTML = n.toFixed(1);\n  }, t);\n}\n","const modalLink = document.querySelector('.footer__rights-link');\nconst closeBtn = document.querySelector('.modal__closeBtn');\nconst backDropp = document.querySelector('.backdropp');\nconsole.log(backDropp);\n\nmodalLink.addEventListener('click', e => {\n  e.preventDefault();\n  backDropp.classList.toggle('is-hidden');\n  document.addEventListener('keydown', pressEsc);\n});\ncloseBtn.addEventListener('click', e => {\n  backDropp.classList.remove('is-hidden');\n});\n\nfunction pressEsc(e) {\n  console.log(e);\n\n  if (e.code === 'Escape') {\n    backDropp.classList.add('is-hidden');\n    document.removeEventListener('keydown', pressEsc);\n  }\n}\n\nbackDropp.addEventListener('click', onBackdropp);\n\nfunction onBackdropp(e) {\n  document.removeEventListener('keydown', pressEsc);\n  backDropp.classList.add('is-hidden');\n}\n","// import loadPage from './loadPage';\n// import { fetchFilms } from './loadPage';\n\n// 1. Для кожного зображення додати loading='lazy'\n// 2. Для того, щоб працювало в усіх браузерах, потрібна бібліотека lazysizes(знайти на git hub)\n// можна використати CDN lazysizes.min.js  , додати скрипт динамічно\n// - додати всім зображенням class='lazyload'\n// - src замінити на data-src\n// 3. видаляємо слухача за допомогою 'once'(підтримується майже всіма браузерами), додається в опції. Після того як\n// addEventListener спрацює один раз, він самовидалиться\n\n\n// Feature detection\nif ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер підтримує lazyload');\n    const lazyImages = document.querySelectorAll('image[loading=\"lazy\"]');\n    lazyImages.forEach(image => {\n        image.src = image.dataset.src;\n    });\n// supported in browser\n} else {\n    console.log('Браузер не підтримує lazyload');\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';\n    script.integrity = 'sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==';\n    script.crossOrigin = 'anonymous';\n    script.referrerpolicy = 'no-referrer';\n    document.body.appendChild(script);\n// fetch polyfill/third-party library\n}\n\nconst lazyImages = document.querySelectorAll('image[data-src]');\n    console.log(lazyImages);\n\n    lazyImages.forEach(image => {\n    image.addEventListener('load', onImageLoaded, { once: true });\n});\n\nfunction onImageLoaded(event) {\n    console.log(\"Зображення завантажилось\");\n// можна додати класс, анімацію і тд\n// event.target.classList.add();\n}"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$2673b7148a402161$export$2e4086a123c0d8cd","setTimeout","document","querySelectorAll","forEach","el","classList","remove","$8a393290a593310b$var$homeList","querySelector","$8a393290a593310b$var$spinner","async","$8a393290a593310b$var$fetchFilms","API_URL_POPULAR1","fetch","json","$8a393290a593310b$var$fetchGenres","then","genres","arr","$8a393290a593310b$var$values","load","$8a393290a593310b$export$425bbc544d001ad8","currentPage","innerHTML","save","$ffef372a5b1a0ba3$export$d580d79ed1fb18ac","values1","results","poster_path","mark","map","id","title","original_title","genre_ids","release_date","original_name","first_air_date","genreArr","other","genreId","push","name","length","a","b","slice","splice","join","insertAdjacentHTML","add","$1bab9c519cfa82bc$var$inputRef","$1bab9c519cfa82bc$var$gallery","$1bab9c519cfa82bc$var$btn1Ref","$1bab9c519cfa82bc$var$btn2Ref","$1bab9c519cfa82bc$var$btn3Ref","$1bab9c519cfa82bc$var$btn4Ref","$1bab9c519cfa82bc$var$btn5Ref","$1bab9c519cfa82bc$var$firstPageRef","$1bab9c519cfa82bc$var$lastPageRef","$1bab9c519cfa82bc$var$paginationRef","$1bab9c519cfa82bc$var$rightArrowRef","$1bab9c519cfa82bc$var$leftArrowRef","$1bab9c519cfa82bc$var$prevDotsRef","$1bab9c519cfa82bc$var$afterDotsRef","addEventListener","event","target","tagName","Number","textContent","$1bab9c519cfa82bc$export$385972cd6b54c3e1","hidden","contains","$1bab9c519cfa82bc$var$btns","window","scrollTo","top","behavior","$16230cf6cab73dd4$export$2e24e71fef222f12","$ffef372a5b1a0ba3$export$9ff6c77374fb9af4","$ffef372a5b1a0ba3$export$1826db2756105efe","$ffef372a5b1a0ba3$export$4505c8f675952b2a","$ffef372a5b1a0ba3$export$21666b427502ea6d","comeBackBtn","visitModal","visitCloseBtn","$ffef372a5b1a0ba3$var$timerId","$ffef372a5b1a0ba3$var$toggleModal","toggle","includes","clearTimeout","removeEventListener","$ffef372a5b1a0ba3$var$comeBackBtnToggle","currentPage1","$16230cf6cab73dd4$var$formField","$16230cf6cab73dd4$var$homeList","$16230cf6cab73dd4$var$spinner","$16230cf6cab73dd4$var$textError","$16230cf6cab73dd4$var$movieName","$16230cf6cab73dd4$export$867842ca7ae981de","movies","genres_ids","Date","getFullYear","$16230cf6cab73dd4$var$fetchMovies","movieName1","page","searchParams","URLSearchParams","api_key","language","query","res","ok","Error","statusText","data","movie","alert","preventDefault","elements","trim","$8a7e756c566dd1ea$var$backdrop","$8a7e756c566dd1ea$var$closeButton","$8a7e756c566dd1ea$var$pressEsc","e","code","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$getMovieFromLocalStorage","movieId","ref","find","toString","body","style","overflow","$8a7e756c566dd1ea$var$removeFromStorage","button","currentList","filter","$8a7e756c566dd1ea$var$isInLibrary","storageKey","valueId","some","closest","dataset","modalMovieId","currentMovie","vote_average","vote_count","popularity","overview","addedClass","btnAddToWatched","btnAddToQueue","toFixed","$8a7e756c566dd1ea$var$getModalMovieMarkup","num","elem","time","step","n","t","Math","round","interval","setInterval","clearInterval","$8a7e756c566dd1ea$var$outNum","$8a7e756c566dd1ea$var$openModal","cardMovieId","currentTarget","nodeName","modalAddTo","log","parentElement","$8a7e756c566dd1ea$var$addToStorage","$8a7e756c566dd1ea$var$addMovieToLibrary","$44332e2831bc6283$var$modalLink","$44332e2831bc6283$var$closeBtn","$44332e2831bc6283$var$backDropp","$44332e2831bc6283$var$pressEsc","HTMLImageElement","prototype","image","src","script","createElement","integrity","crossOrigin","referrerpolicy","appendChild","$ead53d6c8d8f066c$var$lazyImages","$ead53d6c8d8f066c$var$onImageLoaded","once"],"version":3,"file":"index.869c40ff.js.map"}