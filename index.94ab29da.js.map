{"mappings":"iMAaA,G,+SCbAA,EAAA,S,wFDaI,YAAaC,iBAAiBC,UAAW,CACzCC,QAAQC,IAAI,8BACOC,SAASC,iBAAiB,yBAClCC,SAAQ,SAAAC,GACfA,EAAMC,IAAMD,EAAME,QAAQD,G,QAG3B,CACHN,QAAQC,IAAI,iCACM,IAAZO,EAASN,SAASO,cAAc,UACtCD,EAAOF,IAAM,0EACbE,EAAOE,UAAY,kGACnBF,EAAOG,YAAc,YACrBH,EAAOI,eAAiB,cACxBV,SAASW,KAAKC,YAAYN,E,CAI9B,IAAMO,EAAab,SAASC,iBAAiB,mBAO7C,SAASa,EAAcC,GACnBjB,QAAQC,IAAI,2B,CAPZD,QAAQC,IAAIc,GAEZA,EAAWX,SAAQ,SAAAC,GACnBA,EAAMa,iBAAiB,OAAQF,EAAe,CAAEG,MAAM,G","sources":["src/js/lazy-loading.js","src/index.js"],"sourcesContent":["// import loadPage from './loadPage';\n// import { fetchFilms } from './loadPage';\n\n// 1. Для кожного зображення додати loading='lazy'\n// 2. Для того, щоб працювало в усіх браузерах, потрібна бібліотека lazysizes(знайти на git hub)\n// можна використати CDN lazysizes.min.js  , додати скрипт динамічно\n// - додати всім зображенням class='lazyload'\n// - src замінити на data-src\n// 3. видаляємо слухача за допомогою 'once'(підтримується майже всіма браузерами), додається в опції. Після того як\n// addEventListener спрацює один раз, він самовидалиться\n\n\n// Feature detection\nif ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер підтримує lazyload');\n    const lazyImages = document.querySelectorAll('image[loading=\"lazy\"]');\n    lazyImages.forEach(image => {\n        image.src = image.dataset.src;\n    });\n// supported in browser\n} else {\n    console.log('Браузер не підтримує lazyload');\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';\n    script.integrity = 'sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==';\n    script.crossOrigin = 'anonymous';\n    script.referrerpolicy = 'no-referrer';\n    document.body.appendChild(script);\n// fetch polyfill/third-party library\n}\n\nconst lazyImages = document.querySelectorAll('image[data-src]');\n    console.log(lazyImages);\n\n    lazyImages.forEach(image => {\n    image.addEventListener('load', onImageLoaded, { once: true });\n});\n\nfunction onImageLoaded(event) {\n    console.log(\"Зображення завантажилось\");\n// можна додати класс, анімацію і тд\n// event.target.classList.add();\n}","import './js/common';\nimport './js/fetchMovies';\nimport './js/arrowUp';\nimport './js/loadPage';\nimport './js/modal';\nimport './js/pagination';\nimport './js/modalFooter';\nimport './js/storage';\nimport './js/visitEvents';\nimport './js/lazy-loading';\n\n"],"names":["parcelRequire","HTMLImageElement","prototype","console","log","document","querySelectorAll","forEach","image","src","dataset","$146ab606393aaab2$var$script","createElement","integrity","crossOrigin","referrerpolicy","body","appendChild","$146ab606393aaab2$var$lazyImages1","$146ab606393aaab2$var$onImageLoaded","event","addEventListener","once"],"version":3,"file":"index.94ab29da.js.map"}