{"mappings":"iuBAAA,IAAAA,EAAAC,EAAA,S,aAGO,MAAMC,EAAWC,SAASC,cAAc,gBAClCC,EAAcF,SAASC,cAAc,sBACrCE,EAAiBH,SAASC,cAAc,qBAE9C,IAAIG,GAAgB,EAcV,SAARC,EAASC,GACD,WAAXA,EAAEC,MACJC,G,CAqCJ,SAASC,EAAyBC,EAASC,G,IAClCC,EAAP,OAAwB,QAAjBA,EAAAf,EAAAgB,QAAQC,KAAKH,UAAI,IAAjBC,OAAA,EAAAA,EAAmBG,MAAKC,GAASA,EAAMC,GAAGC,aAAeR,G,CAIlE,SAASF,IACPX,EAAAgB,QAAQM,OAAO,iBACfnB,SAASoB,iBAAiB,UAAWf,GACrCL,SAASqB,KAAKC,MAAMC,SAAW,GAC/BxB,EAASyB,UAAUC,IAAI,cAEvB,EAAAC,EAAAC,U,CAyHF,SAASC,EAAkBjB,EAAKkB,EAAOC,GAErC1B,GAAgB,EAEhB,IAAI2B,EAAclC,EAAAgB,QAAQC,KAAKH,IAAQ,GACvCmB,EAAON,UAAUL,OAAO,SACxBY,EAAcA,EAAYC,QAAOhB,GAASA,EAAMC,GAAGC,YAAcW,EAAMZ,KACvEpB,EAAAgB,QAAQoB,KAAKtB,EAAKoB,E,CAGpB,SAASG,EAAYC,EAAYC,G,IACxBxB,EAAP,OAA+B,QAAxBA,EAAAf,EAAAgB,QAAQC,KAAKqB,UAAW,IAAxBvB,OAAA,EAAAA,EAA0ByB,MAAKrB,GAASA,EAAMC,GAAGC,aAAekB,G,CAlMzEjC,EAAeiB,iBAAiB,SAASd,IAEnCA,EAAEgC,OAAOC,QAAQ,oBACnBjC,EAAEkC,iBAgCoB,SAAP9B,GACjBV,SAASoB,iBAAiB,UAAWf,GAErCN,EAASE,cAAc,gBAAgBwC,QAAQC,aAAehC,EAC9DX,EAASE,cAAc,gBAAgB0C,UA2BzC,SAA6BjC,GAC3B,MAAMkC,EACJnC,EAAyBC,EAAS,WAClCD,EAAyBC,EAAS,iBAClCD,EAAyBC,EAAS,cAEpCb,EAAAgB,QAAQoB,KAAK,gBAAiBW,GAE9B,MAAMC,YACJA,EAAWC,MACXA,EAAKC,eACLA,EAAcC,WACdA,EAAUC,aACVA,EAAYC,aACZA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,SACVA,GACET,EAIJ,IAAIU,EAAapB,EAAY,gBAF7BxB,EAAUA,EAAQQ,YAEmCA,YAAc,QAAU,GAC7E,MAAMqC,EAAkB,6DAA6DD,8TAOrFA,EAAapB,EAAY,aAAcxB,EAAQQ,YAAc,QAAU,GACvE,MAAMsC,EAAgB,2DAA2DF,wTAOjF,MAAO,2FAC8CT,WAAqBC,wHAG3BA,4QAKSI,EAAaO,QAAQ,0GAE7BN,+NAKMC,EAAWK,QAAQ,mMAInBV,yLAIAC,sRAMLK,0GAG7BE,0BACAC,uE,CAnG+BE,CAAoBhD,GACvEV,SAASqB,KAAKC,MAAMC,SAAW,SAC/BxB,EAASyB,UAAUL,OAAO,cA4J5B,SAAgBwC,EAAKC,GACnB,MAAMC,EAAO,KACPC,EAAO,GACb,IAAIxD,EAAIN,SAASC,cAAc,QAC3B8D,EAAI,EACJC,EAAIC,KAAKC,MAAML,GAAQF,EAAMG,IAC7BK,EAAWC,aAAY,KACzBL,GAAQD,EACJC,GAAKJ,GACPU,cAAcF,GAEhB7D,EAAEqC,UAAYoB,EAAEN,QAAQ,EAAE,GACzBO,E,CAjKHM,CADqBvE,EAASE,cAAc,QAAQsE,Y,CA3ClDC,CAAUlE,EAAEgC,OAAOC,QAAQ,kBAAkBE,QAAQgC,a,IAKpCvE,EAATkB,iBAAiB,QAASZ,GAUjBT,EAAZqB,iBAAiB,SAE1B,SAAuBd,GACrB,GAAIA,EAAEoE,gBAAkBpE,EAAEgC,OAExB,YADA9B,IAGwB,WAAtBF,EAAEgC,OAAOqC,YA4Hf,SAA2B7C,G,IACblB,EAAZ,MAAMD,GAAoB,QAAdC,EAAAkB,EAAOW,eAAO,IAAd7B,OAAA,EAAAA,EAAgBgE,YAAa,QAGnCC,EAAa,gBAEbhD,EAAQhC,EAAAgB,QAAQC,KAAK+D,GAEvBhF,EAAAgB,QAAQC,KAAKH,IAAQuB,EAAYvB,EAAKkB,EAAMZ,GAAGC,YACjDU,EAAkBjB,EAAKkB,EAAOC,IAE1BnB,EAAImE,SAAS,UAAY5C,EAAY,aAAcL,EAAMZ,GAAGC,cAC9D6D,QAAQC,IAAI,oBACZpD,EACE,aACAC,EACAC,EAAOmD,cAAchF,cAAc,uBAO3C,SAAsBU,EAAKkB,EAAOC,GAEhC1B,GAAgB,EAEhB,IAAI2B,EAAclC,EAAAgB,QAAQC,KAAKH,IAAQ,GACvCoB,EAAYmD,KAAKrD,GACjBC,EAAON,UAAUC,IAAI,SACrB5B,EAAAgB,QAAQoB,KAAKtB,EAAKoB,E,CAXhBoD,CAAaxE,EAAKkB,EAAOC,G,CA9IzBsD,CAAkB9E,EAAEgC,OAAOC,QAAQ,eAEnCnC,GAAgB,E,2FCZpBiF,EAAe,C,KA1BF,CAAC1E,EAAKkB,KACjB,IACE,MAAMyD,EAAkBC,KAAKC,UAAU3D,GACvC4D,aAAaC,QAAQ/E,EAAK2E,E,CAC1B,MAAOK,GACPZ,QAAQY,MAAM,oBAAqBA,EAAMC,Q,QAIhCjF,IACX,IACE,MAAM2E,EAAkBG,aAAaI,QAAQlF,GAC7C,OAA2B,OAApB2E,OAA2BQ,EAAYP,KAAKQ,MAAMT,E,CACzD,MAAOK,GACPZ,QAAQY,MAAM,oBAAqBA,EAAMC,Q,UAI9BjF,IACX,IACoC,OAA9B8E,aAAaI,QAAQlF,IAAiB8E,aAAaO,WAAWrF,E,CAClE,MAAOgF,GACLZ,QAAQY,MAAM,uBAAwBA,EAAMC,Q,uFCtBpD,IAAAK,EAAAnG,EAAA,S,aAGA,MACMoG,EAAiC,eADvBlG,SAASC,cAAc,iBAChBsE,YAEhB,SAAS4B,IAERF,EAAAG,eAAiBF,GACjBG,iBAAiBC,EAAAC,iB,sJCTzB,IAAAC,EAAA1G,EAAA,S,aAIA,MAAM2G,EAAmBzG,SAASC,cAAc,sBAC1CyG,EAAU1G,SAASC,cAAc,iBACjC0G,EAAU3G,SAASC,cAAc,mBAEjC2G,EAAc,qBAGdC,EAAiB7G,SAASC,cAAc,mBACxC6G,EAAa9G,SAASC,cAAc,iBAG7B8G,EAAetB,aAAaI,QAAQ,cACpCmB,EAAiBvB,aAAaI,QAAQ,gBACtCoB,EAAmB1B,KAAKQ,MAAMgB,GAC9BG,EAAqB3B,KAAKQ,MAAMiB,GAChCG,EAAiB1B,aAAaI,QAAQ,SACtCuB,EAAoB7B,KAAKQ,MAAMoB,GAmCrC,SAASE,IACU,MAAtBX,EAAQY,WAAqBb,EAAiBjF,UAAUC,IAAI,cAAgBgF,EAAiBjF,UAAUL,OAAO,a,CAlClHoG,OAAOC,OAAS,KACZd,EAAQ/D,WAAY,EAAA6D,EAAAH,kBAAiBY,GACrCI,IACEV,EAAQnF,UAAUL,OAAO,aAC3BsG,YAAW,KAAQd,EAAQnF,UAAUC,IAAI,YAAY,GAAI,MACzD,EAAAiG,EAAAC,qBAAoB,EAIxBb,WAAY1F,iBAAiB,SAI7B,WACIsF,EAAQ/D,WAAY,EAAA6D,EAAAH,kBAAiBY,GACrCI,IACAV,EAAQnF,UAAUL,OAAO,aACzBsG,YAAW,KAAQd,EAAQnF,UAAUC,IAAI,YAAY,GAAI,MACzD,EAAAiG,EAAAC,sBACAb,EAAWtF,UAAUC,IAAImF,GACzBC,EAAerF,UAAUL,OAAOyF,E,IAVpCC,WAAgBzF,iBAAiB,SAajC,WACIsF,EAAQ/D,WAAY,EAAA6D,EAAAH,kBAAiBa,GACrCG,IACCV,EAAQnF,UAAUL,OAAO,aAC1BsG,YAAW,KAAQd,EAAQnF,UAAUC,IAAI,YAAY,GAAI,MACzD,EAAAiG,EAAAC,sBACAb,EAAWtF,UAAUL,OAAOyF,GAC5BC,EAAerF,UAAUC,IAAImF,E,gGCpDjC,IAAAN,EAAAxG,EAAA,SAEO,SAAS8H,EAAiBC,GAC7B,OAAOA,EACFC,KACG,EAAC7G,GACGA,EAAE4B,YACFA,EAAWC,MACXA,EAAKC,eACLA,EAAcgF,UACdA,EAAS9E,aACTA,EAAY+E,cACZA,EAAaC,eACbA,MAEA,MAAMC,EAAW,GACjB,IAAIC,EAAQ,GACZ,IAAK,MAAMC,KAAWL,EAClB,IAAK,MAAMlG,KAASyE,EAAA+B,kBACZD,IAAYvG,EAAMZ,KAClBiH,EAAShD,KAAKrD,EAAMyG,MAChBP,EAAUQ,OAAS,IACnBJ,EAAQ,WAMxB,IAAIK,EAAIvF,EAEJwF,EAAIR,EACJhF,IACAuF,EAAIA,EAAEE,MAAM,EAAG,IAEfT,IACAQ,EAAIA,EAAEC,MAAM,EAAG,IAInB,MAAO,yEAAyEzH,wJADjE,kCAAkC4B,aAIMC,yDACpBC,GAAkBiF,0FAErCE,EAASS,OAAO,EAAG,OAAOR,gGAG1BK,GAAKC,6FAIvB,IAILG,KAAK,G,uCCxDP,SAASC,IACVpB,YAAW,KACCzH,SAAS8I,iBAAiB,iBAClCC,SAAQC,GAAMA,EAAGxH,UAAUL,OAAO,iBAAgB,GACpD,I,+FCJR,MAAM8H,EAAYjJ,SAASC,cAAc,wBACnCiJ,EAAWlJ,SAASC,cAAc,oBAClCkJ,EAAYnJ,SAASC,cAAc,cAYzC,SAASmJ,EAAS9I,GAChByE,QAAQC,IAAI1E,GAEG,WAAXA,EAAEC,OACJ4I,EAAU3H,UAAUC,IAAI,aACxBzB,SAASqJ,oBAAoB,UAAWD,G,CAhB5CrE,QAAQC,IAAImE,GAEZF,EAAU7H,iBAAiB,SAASd,IAClCA,EAAEkC,iBACF2G,EAAU3H,UAAU8H,OAAO,aAC3BtJ,SAASoB,iBAAiB,UAAWgI,EAAS,IAEhDF,EAAS9H,iBAAiB,SAASd,IACjC6I,EAAU3H,UAAUL,OAAO,YAAY,IAYzCgI,EAAU/H,iBAAiB,SAE3B,SAAqBd,GACnBN,SAASqJ,oBAAoB,UAAWD,GACxCD,EAAU3H,UAAUC,IAAI,Y","sources":["src/js/modal.js","src/js/storage.js","src/js/checkStoradgeAfterModal.js","src/js/renderLibMovie.js","src/js/cardListWithGenres.js","src/js/sceletonLoad.js","src/js/modalFooter.js"],"sourcesContent":["import storage from './storage';\nimport { rewrite } from './checkStoradgeAfterModal';\n\nexport const backdrop = document.querySelector('[data-modal]');\nexport const closeButton = document.querySelector('[data-modal-close]');\nexport const cardsContainer = document.querySelector('.movies-container');\n\nexport let shouldRewrite = false;\n\ncardsContainer.addEventListener('click', e => {\n  //Тиць по 'js-modal-open' -> відкриває модалку\n  if (e.target.closest('.js-modal-open')) {\n    e.preventDefault();\n    openModal(e.target.closest('.js-modal-open').dataset.cardMovieId);\n  }\n});\n\n// Тиць по 'data-modal-close' ->закриває модалку\ncloseButton.addEventListener('click', closeModal);\n\n//Press по Esc ->закриває модалку\nfunction pressEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\n// Тиць по backdrop -> закриває модалку\nbackdrop.addEventListener('click', backdropClick);\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeModal();\n    return;\n  }\n  if (e.target.nodeName === 'BUTTON') {\n    addMovieToLibrary(e.target.closest('.movie-btn'));\n    ///changes in lib\n    shouldRewrite = true;\n    ///\n  }\n}\n\n// Якщо модалка відкрита -> кидаємо AddEventListener\nfunction openModal(movieId) {\n  document.addEventListener('keydown', pressEsc);\n\n  backdrop.querySelector('.modal-movie').dataset.modalMovieId = movieId;\n  backdrop.querySelector('.modal-movie').innerHTML = getModalMovieMarkup(movieId);\n  document.body.style.overflow = 'hidden';\n  backdrop.classList.remove('is-hidden');\n  // const { vote_average } =\n  //   getMovieFromLocalStorage(movieId, 'movies') ||\n  //   getMovieFromLocalStorage(movieId, 'watched-list') ||\n  //   getMovieFromLocalStorage(movieId, 'queue-list');\n  // console.log(vote_average);\n  const vote_average = backdrop.querySelector('#out').textContent;\n  outNum(vote_average, '#out');\n}\n\nfunction getMovieFromLocalStorage(movieId, key) {\n  return storage.load(key)?.find(movie => movie.id.toString() === movieId);\n}\n\n// Як тільки закривається модалка -> знімаємо EventListener\nfunction closeModal() {\n  storage.remove('current-movie');\n  document.addEventListener('keydown', pressEsc);\n  document.body.style.overflow = '';\n  backdrop.classList.add('is-hidden');\n  ///changes in lib\n  rewrite();\n  ///\n}\n\nfunction getModalMovieMarkup(movieId) {\n  const currentMovie =\n    getMovieFromLocalStorage(movieId, 'movies') ||\n    getMovieFromLocalStorage(movieId, 'watched-list') ||\n    getMovieFromLocalStorage(movieId, 'queue-list');\n\n  storage.save('current-movie', currentMovie);\n\n  const {\n    poster_path,\n    title,\n    original_title,\n    genres_ids,\n    release_date,\n    vote_average,\n    vote_count,\n    popularity,\n    overview,\n  } = currentMovie;\n\n  movieId = movieId.toString();\n\n  let addedClass = isInLibrary('watched-list', movieId.toString()) ? 'added' : '';\n  const btnAddToWatched = `<div class=\"modal-movie__btn movie-btn movie-btn--watched ${addedClass}\" data-modal-add-to=\"watched\">\n                          <div class=\"movie-btn__inner\">\n                            <button class=\"remove\">REMOVE FROM<br>WATCHED</button>\n                            <button class=\"add\">ADD TO<br>WATCHED</button>\n                          </div>\n                        </div>`;\n\n  addedClass = isInLibrary('queue-list', movieId.toString()) ? 'added' : '';\n  const btnAddToQueue = `<div class=\"modal-movie__btn movie-btn movie-btn--queue ${addedClass}\" data-modal-add-to=\"queue\">\n                          <div class=\"movie-btn__inner\">\n                            <button class=\"remove\">REMOVE FROM<br>QUEUE</button>\n                            <button class=\"add\">ADD TO<br>QUEUE</button>\n                          </div>\n                        </div>`;\n\n  return `<div class=\"modal-movie__poster\">\n            <img src='https://image.tmdb.org/t/p/w500${poster_path}' alt=\"${title}\" />\n          </div>\n            <div class=\"modal-movie__info\">\n                <h2 class=\"modal-movie__title\">${title}</h2>\n                <table class=\"movie-table\">\n                    <tr>\n                        <td class=\"movie-table__title\">Vote / Votes</td>\n                        <td class=\"movie-table__info\">\n                            <span id=\"out\" class=\"vote\">${vote_average.toFixed(1)}</span>\n                            <span>/</span>\n                            <span class=\"votes\">${vote_count}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Popularity</td>\n                        <td class=\"movie-table__info\">${popularity.toFixed(0)}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Original Title</td>\n                        <td class=\"movie-table__info\">${original_title}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"movie-table__title\">Genre</td>\n                        <td class=\"movie-table__info\">${genres_ids}</td>\n                    </tr>\n                </table>\n                <div class=\"modal-movie__box\">\n                <div class=\"modal-movie__about\">\n                    <p class=\"modal-movie__description\">ABOUT</p>\n                    <p class=\"modal-movie__text\">${overview}</p>\n                </div>\n                <div class=\"modal-movie__buttons\">\n                    ${btnAddToWatched}\n                    ${btnAddToQueue}\n                </div>\n                </div>\n            </div>`;\n}\n\n/* -----------------------\n\nModal buttons functionality\n\n----------------------- */\n\nfunction addMovieToLibrary(button) {\n  const key = button.dataset?.modalAddTo + '-list';\n  // const movieId = button.closest('.modal-movie').dataset.modalMovieId;\n\n  const SOURCE_KEY = 'current-movie';\n\n  const value = storage.load(SOURCE_KEY);\n\n  if (storage.load(key) && isInLibrary(key, value.id.toString())) {\n    removeFromStorage(key, value, button);\n  } else {\n    if (key.includes('watch') && isInLibrary('queue-list', value.id.toString())) {\n      console.log('already in queue');\n      removeFromStorage(\n        'queue-list',\n        value,\n        button.parentElement.querySelector('.movie-btn--queue')\n      );\n    }\n    addToStorage(key, value, button);\n  }\n}\n\nfunction addToStorage(key, value, button) {\n  ///changes in lib\n  shouldRewrite = true;\n  ///\n  let currentList = storage.load(key) || [];\n  currentList.push(value);\n  button.classList.add('added');\n  storage.save(key, currentList);\n}\n\nfunction removeFromStorage(key, value, button) {\n  ///changes in lib\n  shouldRewrite = true;\n  ///\n  let currentList = storage.load(key) || [];\n  button.classList.remove('added');\n  currentList = currentList.filter(movie => movie.id.toString() != value.id);\n  storage.save(key, currentList);\n}\n\nfunction isInLibrary(storageKey, valueId) {\n  return storage.load(storageKey)?.some(movie => movie.id.toString() === valueId);\n}\n\nfunction outNum(num, elem) {\n  const time = 2500;\n  const step = 0.1;\n  let e = document.querySelector('#out');\n  let n = 0;\n  let t = Math.round(time / (num / step));\n  let interval = setInterval(() => {\n    n = n + step;\n    if (n >= num) {\n      clearInterval(interval);\n    }\n    e.innerHTML = n.toFixed(1);\n  }, t);\n}\n","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n    try { \n      if (localStorage.getItem(key) !== null) { localStorage.removeItem(key); }\n    } catch (error) {\n        console.error(\"Remove state error: \", error.message);\n    }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import { shouldRewrite } from \"./modal\";\nimport { arrValuesOfQueue } from \"./renderLibMovie\";\n\nconst current = document.querySelector('.current-page');\nconst itsLib = current.textContent === 'My library';\n\nexport function rewrite() {\n\n    if (shouldRewrite && itsLib) {\n        markUpWithGenres(arrValuesOfQueue);\n    }\n}","import { markUpWithGenres } from './cardListWithGenres';\nimport { removeSceletonLoad } from './sceletonLoad';\n\n//containers for render, design changes\nconst libraryContainer = document.querySelector('.library-container');\nconst libList = document.querySelector('.library-list');\nconst spinner = document.querySelector('.spinner-loader');\n//btn accent\nconst active_type = 'header__btn-active';\n\n//listerners\nconst btnOpenWatched = document.querySelector('.js-watched-btn');\nconst btnOpenQue = document.querySelector('.js-queue-btn');\n\n//data parsed\nexport const queueStorage = localStorage.getItem('queue-list');\nexport const watchedStorage = localStorage.getItem('watched-list');\nexport const arrValuesOfQueue = JSON.parse(queueStorage);\nexport const arrValuesOfWatched = JSON.parse(watchedStorage);\nexport const valuesOfGenres = localStorage.getItem('arrow');\nexport const arrValuesOfGenres = JSON.parse(valuesOfGenres);\n\nwindow.onload = () => {\n    libList.innerHTML = markUpWithGenres(arrValuesOfQueue);\n    funnyGuyOnBg();\n      spinner.classList.remove('is-hidden');\n    setTimeout(() => { spinner.classList.add('is-hidden') }, 2000);\n    removeSceletonLoad();\n}\n\n//queue btn is active on load\nbtnOpenQue?.addEventListener('click', openQueue);\nbtnOpenWatched?.addEventListener('click', openWatched);\n\n\nfunction openQueue() {\n    libList.innerHTML = markUpWithGenres(arrValuesOfQueue);\n    funnyGuyOnBg();\n    spinner.classList.remove('is-hidden');\n    setTimeout(() => { spinner.classList.add('is-hidden') }, 2000);\n    removeSceletonLoad();\n    btnOpenQue.classList.add(active_type);\n    btnOpenWatched.classList.remove(active_type);\n}\n\nfunction openWatched() {\n    libList.innerHTML = markUpWithGenres(arrValuesOfWatched);\n    funnyGuyOnBg();\n     spinner.classList.remove('is-hidden');\n    setTimeout(() => { spinner.classList.add('is-hidden') }, 2000);\n    removeSceletonLoad();\n    btnOpenQue.classList.remove(active_type);\n    btnOpenWatched.classList.add(active_type);\n}\n\nexport function funnyGuyOnBg() {\n    libList.firstChild == null ? libraryContainer.classList.add('lib-bg-img') : libraryContainer.classList.remove('lib-bg-img');\n}\n\n\n\n\n\n\n","import { arrValuesOfGenres} from \"./renderLibMovie\";\n\nexport function markUpWithGenres(arrFromStorage) {\n    return arrFromStorage\n        .map(\n            ({\n                id,\n                poster_path,\n                title,\n                original_title,\n                genre_ids,\n                release_date,\n                original_name,\n                first_air_date,\n            }) => {\n                const genreArr = [];\n                let other = '';\n                for (const genreId of genre_ids) {\n                    for (const value of arrValuesOfGenres) {\n                        if (genreId === value.id) {\n                            genreArr.push(value.name);\n                            if (genre_ids.length > 2) {\n                                other = ',Other';\n                            }\n                        }\n                    }\n                }\n\n                let a = release_date;\n\n                let b = first_air_date;\n                if (release_date) {\n                    a = a.slice(0, 4);\n                }\n                if (first_air_date) {\n                    b = b.slice(0, 4);\n                }\n\n                const imgUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\n                return `<li \"class=\"home-card js-modal-open placeholdify\" data-card-movie-id=\"${id}\">\n            <a href=\"#\" class=\"home-card__link\">\n                <div class=\"card-info\">\n                    <img class=\"home-card__img\" src=\"${imgUrl}\" alt=\"${title}\">\n                    <h2 class=\"card-info__title\">${original_title || original_name}</h2>\n                    <p class=\"card-info_descr\">\n                        <span>${genreArr.splice(0, 2)}  ${other}</span>\n                        \n                        |\n                        <span>${a || b}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`;\n            }\n        )\n\n        .join('');\n}\n\n\n\n","export function removeSceletonLoad() {\n      setTimeout(() => {\n      const arr = document.querySelectorAll('.placeholdify');\n      arr.forEach(el => el.classList.remove('placeholdify'));\n      },2000);\n}","const modalLink = document.querySelector('.footer__rights-link');\nconst closeBtn = document.querySelector('.modal__closeBtn');\nconst backDropp = document.querySelector('.backdropp');\nconsole.log(backDropp);\n\nmodalLink.addEventListener('click', e => {\n  e.preventDefault();\n  backDropp.classList.toggle('is-hidden');\n  document.addEventListener('keydown', pressEsc);\n});\ncloseBtn.addEventListener('click', e => {\n  backDropp.classList.remove('is-hidden');\n});\n\nfunction pressEsc(e) {\n  console.log(e);\n\n  if (e.code === 'Escape') {\n    backDropp.classList.add('is-hidden');\n    document.removeEventListener('keydown', pressEsc);\n  }\n}\n\nbackDropp.addEventListener('click', onBackdropp);\n\nfunction onBackdropp(e) {\n  document.removeEventListener('keydown', pressEsc);\n  backDropp.classList.add('is-hidden');\n}\n"],"names":["$5uEKZ","parcelRequire","$8a7e756c566dd1ea$export$48e901322468f6d5","document","querySelector","$8a7e756c566dd1ea$export$efe229eab43a9869","$8a7e756c566dd1ea$export$583b62a65da9ae06","$8a7e756c566dd1ea$export$1a5333fb4ddd5ed2","$8a7e756c566dd1ea$var$pressEsc","e","code","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$getMovieFromLocalStorage","movieId","key","ref","default","load","find","movie","id","toString","remove","addEventListener","body","style","overflow","classList","add","$aITp2","rewrite","$8a7e756c566dd1ea$var$removeFromStorage","value","button","currentList","filter","save","$8a7e756c566dd1ea$var$isInLibrary","storageKey","valueId","some","target","closest","preventDefault","dataset","modalMovieId","innerHTML","currentMovie","poster_path","title","original_title","genres_ids","release_date","vote_average","vote_count","popularity","overview","addedClass","btnAddToWatched","btnAddToQueue","toFixed","$8a7e756c566dd1ea$var$getModalMovieMarkup","num","elem","time","step","n","t","Math","round","interval","setInterval","clearInterval","$8a7e756c566dd1ea$var$outNum","textContent","$8a7e756c566dd1ea$var$openModal","cardMovieId","currentTarget","nodeName","modalAddTo","SOURCE_KEY","includes","console","log","parentElement","push","$8a7e756c566dd1ea$var$addToStorage","$8a7e756c566dd1ea$var$addMovieToLibrary","$3fff5e8daf4b13a6$export$2e2bcd8739ae039","serializedState","JSON","stringify","localStorage","setItem","error","message","getItem","undefined","parse","removeItem","$bTcpz","$7ce8fd4ece0f7e69$var$itsLib","$7ce8fd4ece0f7e69$export$ac774a06f8a156","shouldRewrite","markUpWithGenres","$8uF2F","arrValuesOfQueue","$adTa2","$62f0f62f57de4cb0$var$libraryContainer","$62f0f62f57de4cb0$var$libList","$62f0f62f57de4cb0$var$spinner","$62f0f62f57de4cb0$var$active_type","$62f0f62f57de4cb0$var$btnOpenWatched","$62f0f62f57de4cb0$var$btnOpenQue","$62f0f62f57de4cb0$export$a1447c41bd0e7713","$62f0f62f57de4cb0$export$83c92c494f55e6d3","$62f0f62f57de4cb0$export$9c39882cc3c8fb2d","$62f0f62f57de4cb0$export$71e637b19c748dac","$62f0f62f57de4cb0$export$9b12328d6814fe8c","$62f0f62f57de4cb0$export$7d4e23182ea92954","$62f0f62f57de4cb0$export$dcf15d3bcfe56fe3","firstChild","window","onload","setTimeout","$3iG6G","removeSceletonLoad","$7715e811529d8f2f$export$644c7ecedbec0546","arrFromStorage","map","genre_ids","original_name","first_air_date","genreArr","other","genreId","arrValuesOfGenres","name","length","a","b","slice","splice","join","$2673b7148a402161$export$2e4086a123c0d8cd","querySelectorAll","forEach","el","$44332e2831bc6283$var$modalLink","$44332e2831bc6283$var$closeBtn","$44332e2831bc6283$var$backDropp","$44332e2831bc6283$var$pressEsc","removeEventListener","toggle"],"version":3,"file":"library.a092dfb2.js.map"}