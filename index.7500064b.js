var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("7EEHk"),o("1TPJ0"),o("5RajV");var i=o("5uEKZ");const a=document.querySelector(".home-list");(async function(){return(await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=659c146febfafc17fd54baa17527f7fa&language=en-US")).json()})().then((({genres:e})=>{const t=[...e];localStorage.setItem("arrow",JSON.stringify(t))}));const s=i.default.load("arrow");(async function(e){return(await fetch(`${e}`)).json()})("https://api.themoviedb.org/3/trending/movie/week?api_key=659c146febfafc17fd54baa17527f7fa").then((({results:e})=>{e.poster_path;const t=e.map((({id:e,poster_path:t,title:n,original_title:o,genre_ids:i,release_date:a,original_name:r,first_air_date:c})=>{const l=[];let d="";for(const e of i)for(const t of s)e===t.id&&(l.push(t.name),i.length>2&&(d=",Other"));let u=a,f=c;a&&(u=u.slice(0,4)),c&&(f=f.slice(0,4));return`<li class="home-card js-modal-open" data-card-movie-id="${e}">\n            <a href="#" class="home-card__link">\n                <div class="card-info">\n                    <img class="home-card__img" src="${`https://image.tmdb.org/t/p/w500${t}`}" alt="${n}">\n                    <h2 class="card-info__title">${o||r}</h2>\n                    <p class="card-info_descr">\n                        <span>${l.splice(0,3)}  ${d}</span>\n                        \n                        |\n                        <span>${u||f}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`})).join("");i.default.save("movies",e),a.insertAdjacentHTML("beforeend",t)})),o("ijW3m"),o("bTcpz");const r=document.querySelector(".footer__rights-link"),c=document.querySelector(".modal__closeBtn"),l=document.querySelector(".backdropp");console.log(l),r.addEventListener("click",(e=>{e.preventDefault(),l.classList.toggle("is-hidden")})),c.addEventListener("click",(e=>{l.classList.toggle("is-hidden")})),o("5uEKZ");var d=o("ijW3m"),u=o("2nhTy");const f={comeBackButton:document.querySelector("button.js-visit-back-btn"),visitModal:document.querySelector("[data-modal].dialog"),visitCloseBtn:document.querySelector("button.js-visit-close-btn")};let g;function m(){u.currentPage=d.storagePage.value,v()}function v(){f.visitModal.classList.toggle("is-hidden"),!0===f.visitModal.classList.value.includes("hidden")&&(clearTimeout(g),f.comeBackButton.removeEventListener("click",m),f.visitCloseBtn.removeEventListener("click",v))}f.comeBackButton.addEventListener("click",m),f.visitCloseBtn.addEventListener("click",v),1==u.currentPage||void 0===(null===d.storagePage||void 0===d.storagePage?void 0:d.storagePage.value)||(v(),g=setTimeout((()=>{v()}),15e3));
//# sourceMappingURL=index.7500064b.js.map
