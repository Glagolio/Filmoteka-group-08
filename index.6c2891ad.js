var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("7EEHk"),i("1TPJ0"),i("5RajV");var o=i("5uEKZ");const s=document.querySelector(".home-list");(async function(){return(await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=659c146febfafc17fd54baa17527f7fa&language=en-US")).json()})().then((({genres:e})=>{const t=[...e];localStorage.setItem("arrow",JSON.stringify(t))}));const a=o.default.load("arrow");(async function(e){return(await fetch(`${e}`)).json()})("https://api.themoviedb.org/3/trending/movie/week?api_key=659c146febfafc17fd54baa17527f7fa").then((({results:e})=>{e.poster_path;const t=e.map((({id:e,poster_path:t,title:n,original_title:i,genre_ids:o,release_date:s,original_name:c,first_air_date:r})=>{const d=[];let l="";for(const e of o)for(const t of a)e===t.id&&(d.push(t.name),o.length>2&&(l=",Other"));let u=s,v=r;s&&(u=u.slice(0,4)),r&&(v=v.slice(0,4));return`<li class="home-card js-modal-open" data-card-movie-id="${e}">\n            <a href="#" class="home-card__link">\n                <div class="card-info">\n                    <img class="home-card__img" src="${`https://image.tmdb.org/t/p/w500${t}`}" alt="${n}">\n                    <h2 class="card-info__title">${i||c}</h2>\n                    <p class="card-info_descr">\n                        <span>${d.splice(0,3)}  ${l}</span>\n                        \n                        |\n                        <span>${u||v}</span>\n                    </p>\n                </div>\n            </a>\n        </li>`})).join("");o.default.save("movies",e),s.insertAdjacentHTML("beforeend",t)})),i("ijW3m"),i("bTcpz"),i("2nhTy");const c=document.querySelector(".footer__rights-link"),r=document.querySelector(".modal__closeBtn"),d=document.querySelector(".backdropp");function l(e){console.log(e),"Escape"===e.code&&(d.classList.add("is-hidden"),document.removeEventListener("keydown",l))}console.log(d),c.addEventListener("click",(e=>{e.preventDefault(),d.classList.toggle("is-hidden"),document.addEventListener("keydown",l)})),r.addEventListener("click",(e=>{d.classList.remove("is-hidden")})),d.addEventListener("click",(function(e){document.removeEventListener("keydown",l),d.classList.add("is-hidden")})),i("5uEKZ");var u=i("ijW3m"),v=i("2nhTy"),f=i("1TPJ0");const m={comeBackBtn:document.querySelector("button.js-visit-back-btn"),visitModal:document.querySelector("[data-modal].dialog"),visitCloseBtn:document.querySelector("button.js-visit-close-btn")};let g;function p(){m.visitModal.classList.toggle("is-hidden"),!0===m.visitModal.classList.value.includes("hidden")&&(clearTimeout(g),m.comeBackBtn.removeEventListener("click",h),m.visitCloseBtn.removeEventListener("click",p))}function h(){m.visitModal.classList.toggle("is-hidden"),(0,f.loadStoragePage)(),!0===m.visitModal.classList.value.includes("hidden")&&(clearTimeout(g),m.comeBackBtn.removeEventListener("click",h),m.visitCloseBtn.removeEventListener("click",p))}m.comeBackBtn.addEventListener("click",h),m.visitCloseBtn.addEventListener("click",p),1==v.currentPage||void 0===(null===u.storagePage||void 0===u.storagePage?void 0:u.storagePage.value)||(p(),g=setTimeout((()=>{p()}),15e3));
//# sourceMappingURL=index.6c2891ad.js.map
